<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>‘[SOJ683]蜥蜴’</title>
    <url>/2019/11/13/%5BSOJ683%5D%E8%9C%A5%E8%9C%B4/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="Hey, password is required here." />
    <label for="hbePass">Hey, password is required here.</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="ae99e5983feb8506374669b0da3b2f1a73669d3897fafa37eb5f36d3936be21f">94c667e1d656da40720bf5c1d7bba6ee224c455a8887ef3321df1f8f01cf81684dc0be4a6c3aec7d096d52608037adb34a38f16732465eb797abe6562e2adeb1b5f9cdbd57fe7d9654eb52a1d9dd3fa8ee8640f324176f30ee4a9a09f9cf44080fdf3e65e2241f5e42274aa93617eb876895a2253ec058c9307babed2e4410c5397066dbfc59c7143eba5dc853b012743a7c23a1b46cf44a2fd3f3ad02240855fc4fef4986a2da06c9b77c44bc424680044db179736eeca89f91eedd29083c67e1792211e4543dae5e7a6210f67c44132d7b3830a412ddf6b933b2815f1f45de3e882f572b75b7e0e2ff9607423ee5aa5ba59871aa3870a6db1bcf8e965d981c1886554d2c9057498b6bf64ad8733c83a0fdbe87f8f8709e9b594a9aa52690ed4c8a8594c973dc7da3eb89ddf6cbcda28aad3d3c841229cd9a36b806985ca1da669865d2349aac1b77b4b1f9af638c36400640d2a4c96dfd671b7c638eabb388343037bc4d6b4b1701306fd0e3d1199139dc69bb7adbaa04e0ba3da36be2c37549df7682056d22a645d4d8b6c7ee85f675132577995ca8159298a763b2528489e2e4d5e7312aa2254dd8601ffebe21bd703bfe74264816097c1ab6206ead4f3032c3add490bd447c602cb071762aab56bba86385e20f5389f985f535138d96bb1890146f7ce1841b806ef4c520b58403736d3c7a43940e4deaee17ce3a71d1231b3e6827eed702853f2bc72df4c4108b6846ce7778e74610cacf6bd32b269993683b407cdb2d15684a79507b9a07dc5b1b6af6e925fcabae3636a84c9d855859cac6fc390b6c05c30d76b2a19fec0c68a54232c70c173ec80c8aca03abd50364e94f4661d51f6ac778b5df639a9ede891720e85bc7e0f6a57ed2874bc5671dddfabf4a9df0d319166b868c368620594d5f8066df379284d846164aa47d1624fa4d3e74a73e7a3564c54d13ad23401bd57c6a65457204865bd3f88237d36bbc7046c4be1d60a61193d360a563c2ab57758532f494e87652f037e9a5dc8961f44c19bd0f0710307e6c43f8c52556b5926c620d14c9690b407f089253b4c1117795bd29a2810b2cccfb116611bb5b837bc61f1ba41d92a97634872c079ba464e2a04b9adab23e69d86ffdd0fe742f33447808efc6925a7bebb00a33e5af2490bfe3031edf15139551ed22f895fe4a1cd86d3d9e68e2da816438880e67f295524e156aa1c0a2e72fa58d81f6b692f6ccd8223b4b27918795d6644b93536f8b8a26ec8bd9238864cbb5b9dec20e8f5cb174ab4c4f838cbf22aec2085137b3b6ed6f40adf79f3efe1584598f8edcda3a9359b644245a3e531128441e094007e073c13aa891143bebebd42321ecd3af9543995ea702803cabf1aafb7d2a9dabf12cdef1df44708c785bc7aefab7adf942a89eeffd21c726eac0800c5f9bc8beb9abaee580a6cc30ea03d4b03aa548ae830a3a8df6c6af2ae72999d3ef96e8afffc15023a9560e2a31915d54a11fd5ac1e3db649b8bc8e54a8cf30c9dcbca4fe38972cdd2f6b3c9a365748544d84b925a3c1ff87a1a3feabc2007f753b32212ade5aca967af7ee7df7d4bd677c7c14810ba58c58b78d79cc2c50f6e5f31626d7b11907ba24e57a5fc65fd21b7e1eb3831e214ea6266299fc1d811b6f3f2d3017c323fca5e86cd0d342acb299e117d5706a2ce5d5f3c76fb8bcabac3085056acb32a5774ccb00e555451fd4d279898333098b70e8b77c17e00deef801d488a0f0f264363313add0a95fb9880c70dca6e6db5a0006b2ccbe3eb7bde76d1fe996246bc246e8eb555bd605d2f8c68ec09790cc8ff0a86ca9a5573eb2f2e0748de11d0482004f40c3e989595e708cb60b4facc64d8417eaf7fe3ae03ec6f2fef1810976154db591b443e021494729eac1e30281288c61a9697954f893ca501d8a05a6a8d40ff83d1a91814aed112fd1d7ae62486a0b70bae15c78205c5f0fa4f09b68fc85bd345b22f9744250cd91b7fecb5c6f8b048c40d821fd5fc006c22d6adb23a2cece0142945b568042100114b9b3aa6c9e0cda8e1739613fd19cb7c8aa21da469cccc025aeb4a2fc363c26daf602a5adb83a1019ac2143c9c8b6bccd2b4d06c2142cfb5c40016a1a5b77e5f2d5ba4e9d4c68e1c80b3ddd9132f28d687f376fabd3b5c44c20f89d8bf930a3b85ec99ff16ac35ea72f9c96019d3ac53047652b418d75c64fa4bd4d178e6e8dbc9a01bf6b884843a0f55c0ac18c30bdb1f6550bd725b30f015f0fe5cb538161fbf277823112ac294219d56ef4b5f25f76af9f47727752f0d7a73e6d7150fe5a73f005875fd28632db7e44a6e6ba85eff2f9fd0112615147ec764d50b99aab8dab75a7de1a9f9d4954b736f14c9f8a32195dd259eaa38ff4ce339ba1148336d26547f61efb55ea0420ed7b823c7288e01d49462d5de151b31a393a8321811c811f150c9a87a8dfe44ac150c6ef9a100b6df652f7bf59da08a799d79e755e4c58090298390622e335abe96f20f6418485438cc1e2e794a31091afe21eaf2a2b2db1fee5d773c6b7d0120cb7c6b4b7c6a3f989ac0da20be7b0dfe8dfd336e942650c1fd25f15a7abc1907e67b7c7002217fcdfc2d79de4317bc2dc1604e47122659f7b1335b553e6744b0449ac5a4abc13a3560b9d17c6f7adbd5d19476763964d76caf926a27bc242050c2e9b01631f624a7801953df2b125c177757e7f5e39bdc3b166c070977e7e681f244bdcb9dc363736d480a8dcde5e61fc0ba7360ecba40b6be4c8995b1993b43d67e67de095239d21c1854aef13b20a12a0c282491c33005c185f3a910778577bce5b5f68d354096937520c7451c543c2d3bbd6b3e61174d29630b19ec223a85d4681c738d0ad053c7abe00030edb21075f3bfa90d69265e80991fed83d21e2c44087a763f2bee8d24625c1956317cfc9f0c70bc35a57513d149aa7faa554ddb6432d13c3304de29fba8944d1f619ddc71927092e6b5902d3fc0c85b7aa3779b2dd7f6a74d7d91182a5478fc54c974a2f2803186e06693be5e40b538168dfc46915cad2816d8969476570e7d5bd2abbe7f1f63f97024d17bf2923de7f1d39b2add80501973a21fca790e294383ba8d27b684b92b199eac5abe6d071a4d3768afb5b12756b35404f38b8b3be78003be19911457b6e582f9e7350743a0dae7b3d43ccb72b55cefafa67412ff8770af63b35000823665b624b395a9af3bdb6fa6a3b2770797244e82189e08634c8d783e99f5c9208b9e226b446a3e3ba7a5e39f771a50dcc1d97d4cab281919dee0c488e3081ee5c54a9cb3a755ab4e6c5b8a513d315e09b65c705cd6f2118c6973968027dd58601dc807a89ce1bd271684834971bbb12e3f5ca33e2fd5898c895c5836f90d6d13f9cfb2e44e46fc0f0b2d326188fdd26660f06c3008b797e09f09fb3a822a71c7de93bd2df4370e47945513874cb4e4acc456642a589869169ddc308dfb1383d108af3651eb0b2b9f487508053543da7d607217be0600b16f01f5aa8a8549037e092735f27f3085180e241c7eb05414059539798668c53ece5187f1ba418071b6ad83a867bf51036175818f62283e765d4862ff5894020bfa9cb7c2d0fc796e3319618e4cdebca9091f9e2983d95f9aa8cd942c293b7c7c334e87b3bd931f4888f1e4eef002b4fb659fd7cdd3d8febe9a93bb7b07a8388095eda85f9e864d521b53587c6844cf787beb648eec81c8d5bd2da1877ce1894395beb0e39a62e3c612ffffaa2fd4ff81f807431903eeb2b15d2b1b28b5cd8c0552a90de5824532a5ad073eaf0a246ab19b5d7d4e9f3ac5d53dd8f93732d69197ce2a3c5ac91c787b01c263101736b65b026230999d52d7a6e766cabd01cce6d15e7aaec64848537c9731e162c59d55bc2a438571feeeabcb0b986b0f5eb8567248567b201dbc897271113e95e4bbbf7d0d652f76a8415a0240cf1f71926987e11532ca2cef9f96ff9cc8f2aca3c53ca1cdfddbe31fdc14dccef575c6f8d70f570895a528950f80c359f7532ffebdbe866e65d4abc0565ed6c44cc097bc650d98421110fb18760364ee8b77146a1d9411e09db0339c6b327710c5ca7e9549297fa57b1c2307056359898f0401efb688b697f3243f59b10ddfb5c2da7bcb488f79b8c1b43a71cdede4b243253bce67cce8135d9e5dac5a9f3bbcfb9838fad36c351fd4a89b2573c3b7e8863c40655515b8d7a5d8c504e330331e88e2fe783c6a3ba5922f5f8cf042e59ca3656fb33aa73ad49279d95e075e6427744ee73c26299a45603fa0c8c0c4d8db465308a9bf2d40f38f18478f19ec6eb6a9a0ed1a1affa596df1e2c7531e274db9efb61023181b99f047cbb0c76ed65e74d48943fd5ba1720bcbbbc14537d313bd6c7b67278cc6f1151c25b36fe3b636943f22c2a985f08bfd5b696938193568dae455e560eeeaf10335bd544f49b98bad6773b484aa912ca476b47a3f1a2913c74fa77386ab426b95481098add990d265fff43a64e54d0c9c6e2f4e8b9e440583844e2199e02299b4a41a2bcf982e1ba17f30e9da6bc9bc489e5ccdeae449b6fc118d40a91ebcef4a692ad55523934c96a9aa7213695e8b8d6601532414f26a99210d0fde94893c23712664f019eb41ebb2042249aeff994cd6b48432d81c3a9a8f33e6aa1b6dbad72ce63c45c4d9be3e5c2ae6f8636eaefd9845d96a7a07d92b33323d6bac985ab93b4bca948e7ff487199efcfe9d377ce7082e39323ecb470bcf7d5005eb80637208351d0d2e9fc2faf2871767c61d78bf1029833124f174d20dbdcef5b77411592d8e26b65e74fef5583869b5768c13e968d23b447360a33f733251b925aa8fe41a8882e82312bbbfba14de541fa8fb61f4d3ae6e54c03e69f02e81d93f7665bf541ad7c2f463d547c95eb2fae92ec5335a9a14c95d5badc40139d094492640dffb62114e1423108093b8cb55435bf0b4684a084858b714d5849463d09edbe7b0e22ddade6ba1a9ed95281a3347911af64ec46533403dc6838fbe960ac52e6b6e5de8fa243a3c430024e32d7e77568e9610e1ba813a8746365f3179c50518ed404ff3419d968d225b9252e5b123244294c3771a3c671ea8c8d81594776da5bb911241165ae4d10694689a1969b3a9873e2104fc820e73f5d5030541a1484a3db6a6f67d14bbd5feabc7c4c7320975e4872d5899e17b3a9fe67da8f2d5a996e08d80ad9010d6004538fae3ec94c1ab5966345874343bb7cf10302b0aa08e20e998c85e580b91a1b179ea9bc27af1645a8f557a7b0edabe661ff8df3ff75b2de7406067b3d64684ee04a3df29b6159cd0bd76e0574a2408deaecd205e5e0bcbdc335200368110201c326dd764d9465c295a7411e3e13fe864ac721bc3a2baed73133a72b78cd4932d2787f5cb9cc282e4ad3cd3b705c9de7def7f6c3a6b676ace9ec904b373e47cb5c5a80b84a8df752c5c175023b978871a4aa41de624a4d3d2cd9321d3efc4f6b0989401cdb86688998ee9284e2e52ff45ef5a028084afbbb9c7e59c5c5fb142b4930439a777be7d62abfcd7b7ff2b959c5011abe78f4655e547a715e42631c9711f7f752f05109827bc33b9557ba8fe3c6500316211f287c911b8b718fa02adcc3f5193d7ed388aa65349b3e27cc1d54d9f620fa7ef4b4764610883d968dce185661fafdd0b8ab65ccb1b6be7edd3dc482edf3df2eaee82c8056a067f3afa2dcd30ce38b82e59e90d02c4c943e85292bc482790d03cb32c70b121d4ec38176965c3ae7111d14af94f25e324d056b8aeb72726e298c3b60de298d4df370a9d44ebd480af0671b8437e44687871931ed8357acd10f6fda897ab2a3caeac7f66fdf81620accdcbf517f97871754f7b9e757f5a88d91ea866cf28968287136dfd7eecfe950eca371afa9f94e9e4b3bebf1353a8258a95508035c7dfb112d38456adff4f309b02f9adc66388d561ea3a5a10d1f44482039b416b2294ec7517c878cd21bf26ecdcad3b79e2869d298e90a85847787302948f55bcd15952aa7b6c5ba49bb77b0de5b3107335280a96ba5ecc2b49a98863636bbc9b4ccee5ddb769323df157dc8aa30b53f207176ad150cd4ed4440ea6929caa49560fe82ae1f2de159a85dc720103c2e9bd42ba1f0bca72a9e7c2c2ffc4864dcd5948fc86666dccca6019c22b733654a3f06f89b1d8ad1e5870c37fd4de29a390497bd55c048c21d6fded39c302c0a564f79deaf6f06415ffbb58c3e85a3d27b4b80fa0ad4fcf535d8b86968d01a46b58471520fb4a4ee20036886da0286af37f62349c8267af26e663205c9b4fdcd33e121e118d691c45a516bf4bde033ab8d074134646448df64e94598e13b266103ac53b673ff74d529de43f7e599babb82ef80761f521ccd0c65282d585dc7ae3f95a3116e814eb59782f9c1a037c7cd9809a3247a4b528ee232f77feeeeaac952d91a2eecc457e9d4464c3a104913ce6af833fcd55b61bbc48cb70caa53c0849551018d13a041202e9056315fec677e1c47e3e60072870eeb37e089f2b4621a8d815867da65504cfe1250737d14198475390fb7af512123a3e1eaa538191bba2d00865603409c0ebeef5f9c9271cba92e1496c46ea6620da13f2b53ca4d0767630b3ef9119535c6664eeb110b078c4786a0706c626808ca93188e128a42ceed010b0bdb2f6c9124cd550679a08d155b7b35f7337e7b2c42d8944eae5ab5ac478f86329daf6f6039ce3e24db59bf7f9987386ea36e23fe868bbb7e089ae7c6ed8d0a67c14131e8d14016274e6c2121514f52f55d5b39b98</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>贪心</tag>
      </tags>
  </entry>
  <entry>
    <title>[AtcoderAgc034E]Complete Compress</title>
    <url>/2019/11/12/%5BAtcoderAgc034E%5DComplete%20Compress/</url>
    <content><![CDATA[<h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>树上有一些碎片，每次可以选择两个距离大于1的碎片在它们的最短路径上分别靠近一格，最终使得它们聚在任意一点</p>
<p>求最小的步数或告知不可能</p>
<h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><a id="more"></a>
<p>对于一整棵树，如果根节点的所有子节点到它的距离和为偶数</p>
<p>且子树中到根距离和最大值不大于这棵整棵树到根的距离和的1/2，就是可行的</p>
<p><strong>注：等价于这个问题，有{\(a_i\)}，每次选择两个数各减去1，使最终和最小</strong></p>
<p><strong>如果\(2Max&gt;sum\)，最少距离和为\(2Max-sum\)，否则与原sum的奇偶性相同（0或1）</strong></p>
<p>因此每次要递归地尽量把到根距离和最大的子树的和变得最小</p>
<h3 id="调试记录"><a href="#调试记录" class="headerlink" title="调试记录"></a>调试记录</h3><p>真的是做了整整一个晚上<del>机房好吵啊</del></p>
<p>用sdep[v]算到根的距离和没有考虑v是否也对距离和有贡献（s[v]==‘1’）<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">E</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> to, nxt;</span><br><span class="line">&#125;e[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn], tot = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">	e[++tot].to = v, e[tot].nxt = head[u];</span><br><span class="line">	head[u] = tot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> dep[maxn], sz[maxn], sdep[maxn], sum; <span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs1</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> fa)</span></span>&#123;</span><br><span class="line">	dep[cur] = dep[fa] + <span class="number">1</span>;</span><br><span class="line">	sum += (dep[cur] - <span class="number">1</span>) * (s[cur] == <span class="string">'1'</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)&#123;</span><br><span class="line">		<span class="keyword">int</span> v = e[i].to;</span><br><span class="line">		<span class="keyword">if</span> (v != fa)&#123;</span><br><span class="line">			dfs1(v, cur);</span><br><span class="line">			sz[cur] += sz[v] + (s[v] == <span class="string">'1'</span>);</span><br><span class="line">			sdep[cur] += sdep[v] + sz[v] + (s[v] == <span class="string">'1'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs2</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> fa)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> link = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)&#123;</span><br><span class="line">		<span class="keyword">int</span> v = e[i].to;</span><br><span class="line">		<span class="keyword">if</span> (v == fa) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">if</span> (sdep[v] + sz[v] + (s[v] == <span class="string">'1'</span>) &gt; sdep[link] + sz[link] + (s[link] == <span class="string">'1'</span>) || link == <span class="number">0</span>) link = v;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (link == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">	dfs2(link, cur); sdep[cur] = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)</span><br><span class="line">		<span class="keyword">if</span> (e[i].to != fa) sdep[cur] += sdep[e[i].to] + sz[e[i].to] + (s[e[i].to] == <span class="string">'1'</span>);</span><br><span class="line">	<span class="keyword">if</span> (<span class="number">2l</span>l * (sdep[link] + sz[link] + (s[link] == <span class="string">'1'</span>)) &gt; sdep[cur]) sdep[cur] = <span class="number">2l</span>l * (sdep[link] + sz[link] + (s[link] == <span class="string">'1'</span>)) - sdep[cur];</span><br><span class="line">	<span class="keyword">else</span> sdep[cur] = sdep[cur] &amp; <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> n, ans = INF;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%lld%s"</span>, &amp;n, s + <span class="number">1</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> u, v, i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>, &amp;u, &amp;v);</span><br><span class="line">		addedge(u, v); addedge(v, u);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> rt = <span class="number">1</span>; rt &lt;= n; rt++)&#123;</span><br><span class="line">		<span class="built_in">memset</span>(dep, <span class="number">0</span>, <span class="keyword">sizeof</span> dep); <span class="built_in">memset</span>(sz, <span class="number">0</span>, <span class="keyword">sizeof</span> sz); sum = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">memset</span>(sdep, <span class="number">0</span>, <span class="keyword">sizeof</span> sdep);</span><br><span class="line">		dfs1(rt, <span class="number">0</span>); <span class="keyword">if</span> (sum &amp; <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">		dfs2(rt, <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">if</span> (sdep[rt] == <span class="number">0</span>) ans = min(ans, sum &gt;&gt; <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (ans == INF) ans = <span class="number">-1</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>树</tag>
        <tag>贪心</tag>
        <tag>递归</tag>
      </tags>
  </entry>
  <entry>
    <title>[HNOI2012]矿场搭建</title>
    <url>/2019/11/12/%5BHNOI2012%5D%E7%9F%BF%E5%9C%BA%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>在无向联通图中设置一些庇护所，使得任何1个点被删掉之后（同时在该地的庇护所也失效），所有点（包括删掉的这个点）都能到达至少一个庇护所</p>
<p>求最小的庇护所数及最优的方案数</p>
<h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><a id="more"></a>
<p>把所有的割点求出来，把这个图分为一些联通块</p>
<p>如果联通块里面割点个数为0，需要建两个，方案数为\(C_{cnt}^2\)</p>
<p>如果联通块里面割点个数为1，需要在除割点外建1个，方案数为\(cnt-1\)</p>
<p>如果联通块里面割点个数大于1，不论怎样都可以跑到其他联通块中，不用建</p>
<h3 id="调试记录"><a href="#调试记录" class="headerlink" title="调试记录"></a>调试记录</h3><p>没写Case</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">505</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">E</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> to, nxt;</span><br><span class="line">&#125;e[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn], tot = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">	e[++tot].to = v, e[tot].nxt = head[u];</span><br><span class="line">	head[u] = tot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> n, m, _cnt, tdx;</span><br><span class="line"><span class="keyword">int</span> low[maxn], dfn[maxn];</span><br><span class="line"><span class="keyword">bool</span> cut[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Tarjan</span><span class="params">(<span class="keyword">int</span> cur)</span></span>&#123;</span><br><span class="line">	low[cur] = dfn[cur] = ++tdx;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)&#123;</span><br><span class="line">		<span class="keyword">int</span> v = e[i].to;</span><br><span class="line">		<span class="keyword">if</span> (dfn[v]) low[cur] = min(low[cur], dfn[v]);</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			Tarjan(v); low[cur] = min(low[cur], low[v]);</span><br><span class="line">			<span class="keyword">if</span> (low[v] &gt;= dfn[cur] &amp;&amp; cur != <span class="number">1</span>) cut[cur] = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span> (cur == <span class="number">1</span>) ++_cnt;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (cur == <span class="number">1</span>) cut[cur] = (_cnt &gt; <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">LL ans; <span class="keyword">int</span> Min, c, t, Col, vis[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> fa)</span></span>&#123;</span><br><span class="line">	vis[cur] = Col;</span><br><span class="line">	++t;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)&#123;</span><br><span class="line">		<span class="keyword">int</span> v = e[i].to;</span><br><span class="line">		<span class="keyword">if</span> (v == fa) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">if</span> (!vis[v] &amp;&amp; !cut[v]) dfs(v, cur);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (cut[v] &amp;&amp; vis[v] != Col) ++c, vis[v] = Col;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">int</span> T;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</span><br><span class="line">	<span class="keyword">while</span> (m != <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="built_in">memset</span>(head, <span class="number">0</span>, <span class="keyword">sizeof</span> head); tot = <span class="number">0</span>; ans = <span class="number">1l</span>l, Min = <span class="number">0</span>; Col = <span class="number">0</span>; n = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">memset</span>(dfn, <span class="number">0</span>, <span class="keyword">sizeof</span> dfn); <span class="built_in">memset</span>(low, <span class="number">0</span>, <span class="keyword">sizeof</span> low); _cnt = <span class="number">0</span>; tdx = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">memset</span>(cut, <span class="number">0</span>, <span class="keyword">sizeof</span> cut); <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span> vis);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> u, v, i = <span class="number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</span><br><span class="line">			addedge(u, v);</span><br><span class="line">			addedge(v, u);</span><br><span class="line">			n = max(n, max(u, v));</span><br><span class="line">		&#125;</span><br><span class="line">		Tarjan(<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			<span class="keyword">if</span> (!cut[i] &amp;&amp; !vis[i])&#123;</span><br><span class="line">				c = <span class="number">0</span>; t = <span class="number">0</span>; ++Col;</span><br><span class="line">				dfs(i, <span class="number">0</span>);</span><br><span class="line">				<span class="keyword">if</span> (c == <span class="number">0</span>) ans *= <span class="number">1l</span>l * (t - <span class="number">1</span>) * t / <span class="number">2</span>, Min += <span class="number">2</span>;</span><br><span class="line">				<span class="keyword">if</span> (c == <span class="number">1</span>) ans *= t, Min++;</span><br><span class="line">			&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: %d %lld\n"</span>, ++T, Min, ans);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>割点</tag>
        <tag>分类讨论</tag>
        <tag>Tarjan</tag>
      </tags>
  </entry>
  <entry>
    <title>[SOJ689]数字</title>
    <url>/2019/11/11/%5BSOJ689%5D%E6%95%B0%E5%AD%97/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="Hey, password is required here." />
    <label for="hbePass">Hey, password is required here.</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="8e5cce1319eecb1a979031c4eab72d632f8386f20d2cfd92cd2b6f775a3b2429">94c667e1d656da40720bf5c1d7bba6ee224c455a8887ef3321df1f8f01cf81684dc0be4a6c3aec7d096d52608037adb34a38f16732465eb797abe6562e2adeb1b5f9cdbd57fe7d9654eb52a1d9dd3fa850a5a7183c20416203e9bb4a6c05c6be6871ae2828c3b8d43fb268753314a4bdbf09756468b476e21cf22db0b3f598facb7b870524a1e7cf91176b820a06a72772c5f7d5e055f4bcc5829abbb87cbf07eb7a2a2cc665fc304dce8d18dd6625543cd5562e4a02b38ef1d05689b9202cbaa27e970e096569d6181e90b6af5fe3ad335e1b13aa41c310fe5a2fc621561347ce2db11996aa28bb49f6c473a883a11fd9ee4b2210dbd46d360e1fc36bc81d4f94f50477bf67bcd2469b02ff6da837e22b08c844801be6337177d7590f40376f2857a3b4d28a0bb5ac769a0f4b1685bff684770fa2b57fc96acf0460e6de8d25ad5c41a9d0e3abe3d7f31765733751dfa1b8fe80d530504e1badbc180a779b46dbc11a0ab9b72e71f2444cdf2abbbeda95fc4ee0a60ae474db0fe1b2788331224e8e4a43074e9255dbbeded9a7e803dd27f66ea332d19db2253b8ae3d7cb2c9f43515c951ad06369a0f3678bb95f065e53b97be9c06faa44a40d1f2f96ed848a3085efc9a52d776185eba65f4e5d2b2c446a2470a294523d0d9a106698a4f5a296ad7fd9da0a941f4ee362a05cebaf26a626f1f94501e7c5414b4df019404d7d2adf4aa74c7efbb81792f84da561a384413dd4e338343fae5d8252e7f797952ac4fc1c038f2520a6385f2756c06ca33b8592c9d354eca8f68b6c0642806b77967ec1e252ca6ed5fd2f9eba14647c61d8721e2073788169854708f7ce9d67ba6614cd9ac36023798c6a998ac58c67366f5952319e91364174035209558d800b644241f16f37cbf5aca0054dac9f906785eff8d016ee455e84295a1ac297e5e9753cacaecbc7a9bacf215930bd0f934f8ee3dd4ee0186e5099da578f0a209c432e5c49422c911505773387b4f957e295896a2da74aa06e0e52307d33b99ba0288a26dd3ada20dd360b0556f22179fab27badadec0f473ba18cafa134ed12e79fccc7f72c7efbe905f2d9772b0e85268292655ea0f04cc5f462d6b88cc582d7de4916990451d3218095419512966f6ffc316f7e879df74f7452581b27df7c74af54275e7808714c66141f39b9681dbe7e5f1afa9274ad6171bc9c4ee84e6ec61fb45ff70126591b8a92390d239faadef47afc555dfc6c57c152d5b825bce3bbfa9ab8f2a67df85451daae9631a36dff6464da632bff2978ef936917bdc8bda988f67c65800f395448b79287e18cbd96e0cddf571c3ece6bfc964cbf86740956929cdf534cf046ddf28436838e2a59ced3bb2e47067ff299137a48919b74994ca244893f20cea0d97ccaa33cfc11f79ff29a0c4910391e878d5d0e5ff4f040a7034df54343205c18ea6057aeef7afd55a90bbd5f5cce9c81b9f464faee43475f0b8f224ca3dc2a77487d1d6f8a8278a93b9002d05a5adb265c36dd649d4083a1231fd2f828c3b98c41886b2079fa2ab82135375153919f88181988e28095866d1f9cdc5ca173d56d64f7ad56ddec4e0d2dd4d2104ecbd067540e7276b811fc26f38766a6aedd47e5c1b73cacb567a71ee5f655fc1704cecbd36c6246b26c638f28f8abc4b53c9e6aa3f78f9a6c71d2fb0c3d751383129be6b7a884d89995d198a85307018ca2c79f7500566199eb43969a36a170e83b15db4414a5937cd80cc58e4ffe56bb336bda784d9eb80c02a5aa2f8023cf0779cac7980d0fd1282e44a92dba98454180ec9aa0e75c4f304e4451f8dc201d5ffd9fa36283390d4e4215c23a60c732225cb4266ac7db6584dbe996c8e174d39b9f75852caf3e53c0b59e1d60d65639a629975a9ce47458d1d3c4bfba8ad31db2368853ef6715433e75b133770663e880a01056857eda7915827034321ba157ff2a086991e0340f72758c0f040a292f404a6534148c9b07fa9cd0615ae9e38a066b7a2b2699d54854673bf686dbf1f4e32c3787f7fffd2cbd931eb38a96dd0e86f8a8d64f8ef3396c36e9f83dca36a9df54f8f0b74186a1bd8e48b28553f6ecd96f859be284accb5faddba7e3390f2f718e82b1d75a0bfd624059cbd7b14cc61f2cc56f59b57d7d3a20166e0afb4e821f59c86975a7d33ced66d56e9647b747ad90ec443e342f932b1b3b22c75660a2343f03e3da77de352cfa1af6b09022a32ed9b17f7ed85463b63797a0f46fdf4cf56c4a85ff2e9d88e231d90184d389b3ec99e253820082a10e5dd93434f17306fca89c0134cfcb1eada1cc10eacc3c7e5c89a27e3f61b38156f75c04694d2ec190505d4a4b24a437de8b07d4ce71f0ab91401da967433829394218b082db208b3064aeb79010552728cb505854f07d9b6d17af58f779c1dc54a7c60dfd0d555de9a4041cf81a69cb5748cedccb2bfc5d94bca052cebe01c84974a3ae13da6303a8bf4abf80525133caddf6699aeb07c300dd6016328855e9cced513f60712ca0fccbc0ad6cca4568c283fca6a56b840a8d998499e713eee44c8b8edc2d4bdf3729c97eb43f10ea6160b33f1474b47867cf3d7c304c5bc165fc30848a9b9a27b8d21922fb5589e09d91774901c55b6db62df637b8e303ec28489f748444aecedaa836f421dbda660fc0099a2ab11de87a9c7b212c25059c74e09f15f236b15ad74a2a6880289174215b93c2b3f31d0d1bbd327f3f43217a33dd47a6a80c02a6ea5a237a743be4ce1be30ab104fb886329b5516d974e61e056104c35985ffd83835f89193a3b930c2cf719e2fba8cf1a9aaf22eb443a34beddda925fbba81a8d4e11a1281577ca438cba6175238adfe5acec4197a9f5a54e479640423dedcae208b52c77435a271687a8ddad44856f53e9e7a2c1baa76c763c8f39e3ec8bd15bf8919f411b992a205bcfff57628e2a402933418a262ebd86287dcb3a66f9635e4c5ca6962141d0231947807929dee0314790675e2ffb4db2d5f6cfaba560e2f315377869bba42ee4186ba5e00eb6c5b609856f8bca0dc39a3867d0b24d349b2cf26bb54a1350a39a3e116a27d2104dff75efc6ea012b4e41b6cf50acbb65a52bf71ed040d4336ae24003f82f70632b012f2a6e35b3da8abba6ec93e048daf2ffbc7bd15fe3e6e43139003a12f55aa653703eb193be2ff42c6033670a29ef9d4c9fb8c85ee1aaae4bee4fd933dc9c971d14e6dd2ebb7ce05a7750d95b7b224716067cc097faee30bb08ca90a6568f29c9501b2eddb9606342412af8f63baa8cd00983a92eac96285f212ba842b3512edfe8684bfbf0292a5d5979abc53d1eba659f05a1764bb339581bc29808b5c74b760233a11a121044f57f7763f10b1daa34dd745e59dbd0ea84992060ae1225aa2f3d5d36c696204e472318164e1bdcc701d77699faab9d19462f34e9c9dfb3b041b97bcac8f5f0118fae070759eca3a30d4947c7df8a5e01012f8345f45b7db6a00ee0444cda19ce4af2baafd1695388efbdd6887e1e1b0157ba1b29ee473a923a80ca7ad13e54543369c4c04bc10b966b10b8b6cb138cb02279671a3b680ba2ef2982811e50abd698c19b73a7ea887a2b4a61b1e764c0bdd56984062630d33b793de5a131ded3a88bf12b3dd541826db19b1b06c74c4fb0cd7dd70bf8b49d1133b6394c983109188c9188a2cdc705a022c32baa5f73d77db0590ee9d4a159b77b55a429caf0e9059f23d320d8c91d1647c3b77bc41c019b7e11d3473bd0f8263a25bcd27e2e64b767c9c5ea21285ac63f6f2182aebda2605d8924b46e00a382c9e03e4a5de705a34b011d599f45ad977f0b1ddb879bcec61d01a522df59666a0317738782ae90ae58a2bb6d1163114e317b3133395ca3868e565eb83f062ce7c045f5185ee272aff25c0dd741368cc943d261fc62d508e7521f8d449417e87448a1430cb165f856a88af96e853a0f428b66fc141ca8edefed9bd6dcd0690e8279df4e8f153168f1f494b8c1b9e5360b5da67cccdc3c59c76116e56c8d35098840938807e2e078de7fbe514c25bc8dfd717ba6507e127a0fc7fb2c688b7b494b67122cbcc8d7315b12627e4e2240a78dd5b22814e609008992066088e6832a30e918e98e5e2f30f11d8d46e1bbf8859a68980b0ad593830f3fb1dd980366aaa72b1a9c9f0de0708092d3c781e3d200f466b8e2c290935775d8bc896612abba2606d50bce2c7acba4f4904b7256da69abb34ab16867fa4f3c03991ef74b5a05380c41658e0bb0e34a168ca32037660459da482fd4ebfd061f8f6e7b8cdaa3d63cbb9602c92feded9d1b378fd946b31e2cb1f07f4032dfaff491a9470841df0a23357e8b24a8a89fba38d64c2f38a9d1b016c7d96152e91253c8c0add51af75c72119752e9f9cdd568817c032f4b38e48417db3b7ffeffc64a820664e1a838d9042feffaae361f1fe94c72c539acdb628e1cce57097587df80be8fac810733d225b3a2fc97a781905fe4ef04337cb112e13e4433dd4eb1b7b7a0e3d2145f3ec874780fea53f9ba641c223f707f7215b8b4df888a48b6b0f2abe71a80857e93d05f8e7897f2f2c40a1e409d3678f927b763b8b04ac32303143bb5d31586263a2fb33f7cce2b64a7e6a56a9ac42e27c7716b98ee80f464a3914adce5a65b92ad4eaa33f3bb7c710ced819b05f4dd41d28abb0b2ae4b1926ebc4e225434dfb0be570d0ded0b5be069666101a96039c955b9ef641df6e36871a484d37d9ad968162e05149a633aa48ebf0a075d3ef2128176215a916cb4cfa2c3e225228593ff3fbc1f7ae48b33d570b3477f83d73fc9c2042b3b2eae3ba6198f8d2e47b4c30ce20c2e8721c19bb248a51b696bf02672987a7a3f20ca8e384f25e148d6655b2dc1f3825ea7cc19d67aacc8def9d0f7d75753726530a81c0fb4717f6887e184c9e02f6b9d2a83eb58875d4281f29f330b25c009851d812d5c507347dbc9f13e49cbec475d2bd8130ad51114b8e9c04295dea008847cc8e34908d2509f506d230c6c4ad16ae54a175511103d919b4039f29e0eaefebcd85b39a92c40a8a681560f2552fb598c6029eb04813667ed65973a056b015aed5fc1d57911364badfe90fa96e14b5d8956a47d3cdf66e35f500864c502a1e24daf83188c4b2b3eaebd896af1ade18910643da3c0fe7992b755b19ea0e239ff25a061850f880380bca60c7546ff86eacd38edb0a76d3c6e3fc0d7022f7a2c526058e1578f0e68dbe8807aa7dbb82d4b1d3a69eafcc5ee9fbffa7c786ea1d51734edb4e7499b5f7646d15ebb35bb1cb52bcab005c419b78f660d2c5eef11ce7839ea67526c9292e915774488dcd3e6b3dced0e771a35ac3dcb2499eace0b1a67795249a2fbdc0edfb66bd1f59ca3bd5645e180feb48fab477bc9ddb6d83568fcc74419d3e79ff4cc13c4d04c63fdbfec944de03ee58151dde480e3af72c0c98914a2d7d6358136d18363613743638bba85dfbc356d92b420bd4f545329628bff3f7ac086acd3b60acdf9bd97d912e398577b2861d33cfdb45c9c629bd0b9c1cea2575c0c3a64aa23d58a1a13bc7b20a9755405c4e9d6cb90dc4edfa19e77a44615d3cb34eb42cc5ce4ab1a5ea34206b9dd810e3ee6bb14552f1ff48619c1b8b706eed53f730cab02dc8f960caa862776445c6fe7e091440a1ba702998fd898f8f3028cff625132efa0f294df53c1c964e181b7c4dd4d0540313ec10d2978dc1efa5d806bc692fa4688fee5f4c1168eb72d3433524430d5733b8c7116f40af13a64c6cbb6784f081ace35ba30f0202d2eeb26b7b91f7a57a80a827815a8039dd25f163ea3e55ddc87d2877570a15ee04221219575283993c2c22e795e84a5f05b88afb616b9ba537e0b47210abdbf3794fe4ca41b06bba45f1ca75d9fb68a3010f76a1fc6aaa8a28b821566e77b84169c07ed463ff8291bb457d7047e3fb9312ae6bed132117e9ad539543539ae791a006421dcfc6173614e34792dd8b37af2a352087c65d4f12c9a4cdf73fd43d7753411fb48b352433630ea138d54dad11843dfd03dc8f936810a10549111192420706fb904e068684070b82fd7661929a732e52de64f103ed69e7511f01c3f76ab6830f9890d1fc58298c64f3ebbf0e9cc9bd04dbd886081226fd2d8b9aa4e33b2c348e6b362053521a436d87e6314ef29bde4da372c2ed7c362cfacf2e5dc46905f5f6e96ac546be3567e58e87aa7122dd7c81a9834c593b006dde71a3518705c7ae1fb316a20e77355fb3dfc5dfb3e96323c4e047723f6e49742508006a2fe27e0da50352b765278d16a216b7ba7a042ff2f1da6a09845fb102aceff82e93cba319d036c7a0cd41a3f7a816612df20d2a8e2300c278f96df5a3bfeca1bc5a34d88255e9fc35129802edef95849fabb69080ded3b099603ed466ed4e2a7a337c10da3f648b1636667a9412e8ae5a1617e65ca4abbddaecdcb84d8affb1adb24fe3137cbdef6c14cbf29e0c36aed0ea6b1736a1b3f9cc5ea89642fa6cf841431c286a41845975500bcf5bef416605f43c98706d43ce949a27455d5b431b6f51985c1056323ca0d039893ba787855046cd678ee40a4169f767b040b46b1a9c3f349ea2dc9a380767d574ed70c12b60b87bca22fb644d485f192abbca6fb32e4d48651ab4a712915f4702c7e0aa165fa3f614b71cec990cea8e3c1275f2160fb9b502a23f7b8eb470696be2f0b661178d1dd37aafee4ac47693c4bc9469fa0d047c6b0e484bcf1a81ff4eb22ac4061074a50956779b4d3d96542945e817b39c9535202da0be7d1b35387062633f95e522e7b82c735e7d7225fb1b1c1c81eeb6124f255039f7670d380a7e8469213faece05ab6006ebd6495cf7ca02ecc24c3d542154d1ca9e63735f703823d11ef557266b13b35e7cc2b6be718bc824df93d5cef03ccce32115556f67cc9a3cc106c411aec46882fef4c79c0f8c045c6c8e327e3042d8644203fdcbc8541310456618e25fa098435aa7fc18679134f01c3644966b744326ba39141beacf8c656ddfda4bedc9839da587e452b5f2a2588a75d8d9e36159462354bc9464e55aeb93592eba4fd08d553b35c9b6fb1cdcc308f4303b885c05575aa4c6f1049a808226153f78c30a4fc4516e37a42391447c1c347903adf1281168d8e2c94dea9c89fe0009fd13c48a5198c17b1e80a3ffdd2665a071310f02cc0f2531a160a2254119eb024ab32df68d9d1c5b6d7141cc4e35389dbbf21d240530b7d5e6a6c358439a824955cb44d0d64f977c8ff1c2ebff0a4cf456b331f73bdbc70ddb8406a481a92f041e0085397d444b944d9adfc96f322d11c690a414ffc5fead2211a91233257dba4c1aada21381c023b46c3460bc1f7e09bef735ee84c4b3d88f0812a4361f73588450697afb1ac7c15f405428ba7abe54e565c34e0d5db80e29ff034d849333105f5b3d65cdca1799d2f2098c079d28c362baede41abc50b3bb7f335a8b4315405f80330570ead6dcbd47564bfe2424a4069866227882d3c8299332421c5e0e8fbad15baa5a96307cf8ed2ad80449d2a7b4740e2331407f8eecc345da2d71e9928eb9518c366ae38dcf82ab118c512b17912c2a2b8a723d3d99801bf715666829c6e16298d9b14ab076017423425732fdc58d966669f99adc8f410a94fcba6e1fd4a94f3882c313d9405c197148aaacba769c99e9eacaee0fa9d47aaead77ca2c30219e59af2e1f33898c27ea73093239ebcec83e5e3dfaa4d5f7f9f651d0d102a17b7b9367e6abee219b1312bb67ced95d208a878cec0a58ef39126106b7b45b1e1e1c9ae080d3a10be57d6378a3f806e5f4f1e33b66159a73f354c05d78985e8412e2716ab92632df47d2c594dca354ec73693a202a2abd286f44f4bd65b434385e826e771833274683edfc62c2f923510854fe9cbd4e1570b36c2fe1fcfb4a7c9fcfb1be78b63c71b884bf067c893eeacf2823ace8c90cf27ee0fe14a2030250798b8072550e516fdf74987d7f9b0aec75b0275a428502a6d78b1324ac907cbe21db60273e4afa2549379c4e6e216688ca0aedf476ac309f9d28963462dee9e79b2d2c530b504d26bcebec7a0fc270277b9e51a124414747b0586ee863ba7be13e4ad662c493ea3bbb2127a52f0d311842e6b6754271705c144a3e5cea942bffa76607a5d7327380725df75d58cda9481b52fa1a9f3092ac884aedf42853644f04d54e3c1e3576105b5caebf1eac89ee089b7e6c819b425379849c3e324312a505efffa7ba8dea32cd504b611bf115bfb9cee032dad8c1cbad358dea40ef4d1c34693c062b221e31ff8df8f8c7412b9ba9639425f55c03dac38c0ab8348159c7c478f9263a2ae70d67acf428307308395cf0daff6efbe73f993937ec67c91f4260aa759e2c2519277cf26916f873b524533fde1d27e32dc256b1e1233dcd4fe9d0f60b9d6956259d03883fdc7a91e06cd95c5eabcaee16804c5412f92079dbba289e2ff2010b98607ddf2434883211a3766c8dd7ec035cb918ab196ef00884de703643f67e5c0c3eb2db4b39f3ca492cdcc5ae8ee5550d7e75a2159fb897d8904c789fbb6681d618ebb816da62cc98936eaa67a81a696934d72d6bfa64a56f089c748fdca042f6dec52e87625195296f2d0b926c023becab4caa09f21d9e01dd1d88d85a4a8f8e936bfc8d1056f26fe5341400b938f1db72afb254aa7c0cfb806344a023eca28005cc87ec4d5507706c76e10898c600e738562df40003e59abb1475b47472e2590adf855fab4a518d07bfd25144a6784268d30475f19ec340becbfe42bb9a6163bb7e1693771bb7460b1b1b6359c4967b10e79637ff8324231a8546dc7356b4aacaff5e3073d370b368b64e6eb718e3bfbc09de302225cc3a909246c6e21b52367c1cd7c9d2d38f3f4d22012742ea3acdc0efe136c58db5d5ffee6c83d0c1f931ce952d2d1d2d481f7230b118449f35d0f983a9105932b0516a41fe5c336cd45f9f2d6526d6b3f5a3da017796666e55fdfc2a862c77b6aba330f9af26d2ef9bde15c4f726986d3902bda1cab7198b12e40d6a8bba17df8426176e99d5dced3446edf30ad3e79ff71d09d35380f055c385c665fee598bebfa354760257db7352127d686ba05210cddccd404759ae5845aa32709830fa7195e8d0cdb276c0a8a9860de074ec55e74c64778b7ade7eea56c3b2e05112d6c4e298c003176b590a8d0450ad6fb4812d5ee1caafd08777254bbd7c2ef9b3376dd526085e8ec284600feed67a6b905560f1e37a3eb89b61de2064330ef8067c0d69c7855b2616335c94658f8a9a9ae30276fba938514961e88c680086f82dd8090f36af84e91a709da2d86fbe5e227b2ad6efb52655b9550bb3c6396b5a0bbd7c076b3fb7bf96551cf8798e9927f377deeb35267570d26dee16c3305e9bc54ebc03fe2b81bdd3a682bc99a57a233c599981842ec9c33b0a1077ead0375015dad3a7d658de2f11e93a5524e1833ef3be33832e990bdbc504a03c6d14b04b3533ed018aa3d0e474d7b88fa6827c335823709c1b4b5903fe90d39af4dd6b70cf8263bbabcdbf5882be4d325202a6c8d245d8891a48ac1269682e0afe295e1c4779e1f1fe6eb2c8cb3dd23cdcb43ec6146f6bc55a7118ccad561dd59cb3e94da7002766f34b4a4b2992790426e75886fa813c35451dc00434223eab733c94c7cea201b04cd0ce566a88ac0c3f3afb4e97a73f5d170a6d68c69998815b3c4aaa4ac49059509dec2be4bbfd78654b8012adaae6fa6f1a6f17526bb51e0bc7b53c53b93795bb180dac37a5b52341b29e566ab8f13d65ce7f768fac51bff8a10edd836f4beb0fc122b1ab7c73c27bedda2e4d505bfbf91a6a23e475cc8e0db573825358cf2c861f7196359a29da8320e6f7068c7166a0ee1527b66fda48aa2f60e6c2ed4fb4ab273dced250c4e0dc6f3a3285cc731b0d94655eb26f25510d6409ed2d43d757eeab897f104d2c42c3d10886c178d8baf003d9b8acc745a3074a3072370a87730e7bc75978f68cb4e5af292a626f746135eac6f08d1d10192ca89ab3619c4f784d284af85e9af2344f363d9be248757f195da8613d675027ddd0e4e8d553379fcd4de978af02f029d4dd9159b6979ace8147dc8bf5bf02c358ec6fcf95ce401f15fdf4ebbbac00b1d38b74aba2fa0bbbdea9270f064a51626bcb3e2803287a1d400aa43f0d333640b9b3bc405407975d49cbfa95463659d4e5554217bc5ef8facd79b237e5e98ec773c3c1399d4d02ea440eaa76b9886359e7cb01dc8002ed2af233e42b17cd1b0a3d51bc3c55468c7f7569eae897883e65183a2802be40f14596d24310997180af0d510199cad96f1c5f0054377b721ec4b04f5c47af8a5aa546307c82b5ee953ca6f8621c594e02396fd07004741ed8c887b17b99b0e6cb9d09877dff8d83a35c29119cba64a896fa607ad452e660a77f2a99e3393712c69fa515d54710de4b03afd4fae049af23e44896d45917a42050dba54f6367d6b058d709ce1</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>动态规划Dp</tag>
      </tags>
  </entry>
  <entry>
    <title>[APIO2009]采油区域</title>
    <url>/2019/11/11/%5BAPIO2009%5D%E9%87%87%E6%B2%B9%E5%8C%BA%E5%9F%9F/</url>
    <content><![CDATA[<h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>在nm的非负权值网格中放3个k*k的不重叠正方形，求3个正方形的权值和最大值</p>
<h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><a id="more"></a>
<p><del>题解里说，过一个疯一个呢，我看没有</del></p>
<p>在矩形里放3个一共有6种情况</p>
<p>处理出对于每个点而言左上左下右上右下的二维前缀和与k*k的正方形的权值和</p>
<p>转移显然</p>
<h3 id="调试记录"><a href="#调试记录" class="headerlink" title="调试记录"></a>调试记录</h3><p>一发过去</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1505</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">LL s[maxn][maxn], a[<span class="number">4</span>][maxn][maxn], f[maxn][maxn], x[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> n, m, k;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;n, &amp;m, &amp;k);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%lld"</span>, x[i] + j);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">			s[i][j] = s[i - <span class="number">1</span>][j] + s[i][j - <span class="number">1</span>] - s[i - <span class="number">1</span>][j - <span class="number">1</span>] + x[i][j];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m; j++)</span><br><span class="line">			f[i][j] = s[i][j] - s[i - k][j] - s[i][j - k] + s[i - k][j - k];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">			a[<span class="number">0</span>][i][j] = max(max(a[<span class="number">0</span>][i - <span class="number">1</span>][j], a[<span class="number">0</span>][i][j - <span class="number">1</span>]), f[i][j]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">			a[<span class="number">1</span>][i][j] = max(max(a[<span class="number">1</span>][i + <span class="number">1</span>][j], a[<span class="number">1</span>][i][j - <span class="number">1</span>]), f[i + k - <span class="number">1</span>][j]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = m; j &gt;= <span class="number">1</span>; j--)</span><br><span class="line">			a[<span class="number">2</span>][i][j] = max(max(a[<span class="number">2</span>][i - <span class="number">1</span>][j], a[<span class="number">2</span>][i][j + <span class="number">1</span>]), f[i][j + k - <span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = m; j &gt;= <span class="number">1</span>; j--)</span><br><span class="line">			a[<span class="number">3</span>][i][j] = max(max(a[<span class="number">3</span>][i + <span class="number">1</span>][j], a[<span class="number">3</span>][i][j + <span class="number">1</span>]), f[i + k - <span class="number">1</span>][j + k - <span class="number">1</span>]);</span><br><span class="line">	LL ans = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n - k + <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m - k + <span class="number">1</span>; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">0</span>][i][j] + a[<span class="number">1</span>][i + <span class="number">1</span>][j] + a[<span class="number">2</span>][n][j + <span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n - k + <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m - k + <span class="number">1</span>; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">0</span>][n][j] + a[<span class="number">2</span>][i][j + <span class="number">1</span>] + a[<span class="number">3</span>][i + <span class="number">1</span>][j + <span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n - k + <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m - k + <span class="number">1</span>; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">1</span>][i + <span class="number">1</span>][j] + a[<span class="number">3</span>][i + <span class="number">1</span>][j + <span class="number">1</span>] + a[<span class="number">0</span>][i][m]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n - k + <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m - k + <span class="number">1</span>; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">0</span>][i][j] + a[<span class="number">2</span>][i][j + <span class="number">1</span>] + a[<span class="number">3</span>][i + <span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m - k + <span class="number">1</span>; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">0</span>][n][j - k] + a[<span class="number">2</span>][n][j + <span class="number">1</span>] + f[i][j]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n - k + <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">0</span>][i - k][m] + a[<span class="number">3</span>][i + <span class="number">1</span>][<span class="number">1</span>] + f[i][j]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>动态规划Dp</tag>
        <tag>前缀和</tag>
      </tags>
  </entry>
  <entry>
    <title>[Usage]1</title>
    <url>/2019/11/11/%5BUsage%5D1/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<a id="more"></a>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
      <tags>
        <tag>博客使用</tag>
      </tags>
  </entry>
  <entry>
    <title>[CTSC2008]祭祀</title>
    <url>/2019/11/08/%5BCTSC2008%5D%E7%A5%AD%E7%A5%80/</url>
    <content><![CDATA[<h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>求有向图中最大的集合使得集合中的点两两不可到达</p>
<p>求集合的大小，输出1种可行的构造方案，并输出每个点能不能在点集中</p>
<h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><a id="more"></a>
<p>第一问：由Diliworth定理，最长反链的长度=最小链覆盖的数量</p>
<p>本来是没有后两问的<del>哪个毒瘤写的spj</del></p>
<p>第二问：就是求二分图的最大独立集</p>
<p>第三问：把一个点以及和它相连的边和点都删掉，如果最小链覆盖-1，则可以</p>
<h3 id="关于第二问的构造方案"><a href="#关于第二问的构造方案" class="headerlink" title="关于第二问的构造方案"></a>关于第二问的构造方案</h3><p>首先不能直接选覆盖链的头或尾来构造，反例显然</p>
<p>这个问题等价于二分图的最大独立集的问题</p>
<p>最大独立集一定等于最小点覆盖的补集：1.它一定是最大的 2.该补集中一定没有连边，如果有的话不满足最小点覆盖</p>
<p>考虑如何求二分图的最小点覆盖：从左边的任何一个未匹配点开始，未匹配边-&gt;匹配边…，标记经过的所有点</p>
<p>左侧标记的点和右侧未标记的点就是最小点覆盖，如果i和i+n都在最大独立集里，就加入反链</p>
<h3 id="调试记录"><a href="#调试记录" class="headerlink" title="调试记录"></a>调试记录</h3><p>不会构造方案<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10005</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">E</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> to, nxt, f;</span><br><span class="line">&#125;e[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn], tot = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> f)</span></span>&#123;</span><br><span class="line">	e[++tot].to = v, e[tot].nxt = head[u], e[tot].f = f;</span><br><span class="line">	head[u] = tot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ins</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> f)</span></span>&#123;</span><br><span class="line">	addedge(u, v, f);</span><br><span class="line">	addedge(v, u, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> dep[maxn], now[maxn], T;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">queue</span> &lt;<span class="keyword">int</span>&gt; q; <span class="keyword">while</span> (!q.empty()) q.pop();</span><br><span class="line">	q.push(<span class="number">0</span>); <span class="built_in">memset</span>(dep, <span class="number">0</span>, <span class="keyword">sizeof</span> dep); dep[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">	<span class="built_in">memcpy</span>(now, head, <span class="keyword">sizeof</span> now);</span><br><span class="line">	<span class="keyword">while</span> (!q.empty())&#123;</span><br><span class="line">		<span class="keyword">int</span> cur = q.front(); q.pop();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)</span><br><span class="line">			<span class="keyword">if</span> (!dep[e[i].to] &amp;&amp; e[i].f &gt; <span class="number">0</span>)&#123;</span><br><span class="line">				dep[e[i].to] = dep[cur] + <span class="number">1</span>;</span><br><span class="line">				q.push(e[i].to);</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> dep[T] &gt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> Max)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cur == T) <span class="keyword">return</span> Max;</span><br><span class="line">	<span class="keyword">int</span> flow = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = now[cur]; i; i = e[i].nxt)&#123;</span><br><span class="line">		now[cur] = i;</span><br><span class="line">		<span class="keyword">if</span> (flow == Max) <span class="keyword">return</span> flow;</span><br><span class="line">		<span class="keyword">if</span> (dep[e[i].to] == dep[cur] + <span class="number">1</span> &amp;&amp; e[i].f &gt; <span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">int</span> tmp = dfs(e[i].to, min(Max, e[i].f));</span><br><span class="line">			e[i].f -= tmp;</span><br><span class="line">			e[i ^ <span class="number">1</span>].f += tmp;</span><br><span class="line">			flow += tmp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> flow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> maxflow;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dinic</span><span class="params">()</span></span>&#123;</span><br><span class="line">	maxflow = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (bfs())</span><br><span class="line">		maxflow += dfs(<span class="number">0</span>, INF);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> link[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Floyd</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">				link[i][j] |= (link[i][k] &amp; link[k][j]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) link[i][i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs1</span><span class="params">(<span class="keyword">int</span> cur)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (vis[cur]) <span class="keyword">return</span>;</span><br><span class="line">	vis[cur] = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (cur &lt;= n)&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)</span><br><span class="line">			<span class="keyword">if</span> (e[i].f == <span class="number">0</span> &amp;&amp; e[i].to != <span class="number">0</span>) dfs1(e[i].to);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (cur &gt; n)&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)</span><br><span class="line">			<span class="keyword">if</span> (e[i].f == <span class="number">0</span> &amp;&amp; e[i].to != T) dfs1(e[i].to);</span><br><span class="line">	&#125;</span><br><span class="line">&#125; <span class="keyword">int</span> ex[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> u, v, i = <span class="number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</span><br><span class="line">		link[u][v] = <span class="number">1</span>;</span><br><span class="line">	&#125; T = n &lt;&lt; <span class="number">1</span> | <span class="number">1</span>; Floyd();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) ins(<span class="number">0</span>, i, <span class="number">1</span>), ex[i] = tot - <span class="number">1</span>, ins(i + n, T, <span class="number">1</span>), ex[i + n] = tot - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">			<span class="keyword">if</span> (link[i][j]) ins(i, j + n, <span class="number">1</span>);</span><br><span class="line">	Dinic();</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, n - maxflow);</span><br><span class="line">	<span class="keyword">int</span> tmp = n - maxflow;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">if</span> (e[ex[i + n]].f != <span class="number">0</span>) dfs1(i + n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d"</span>, (!vis[i] &amp; vis[i + n]));</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">""</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> p = <span class="number">1</span>; p &lt;= n; p++)&#123;</span><br><span class="line">		<span class="built_in">memset</span>(head, <span class="number">0</span>, <span class="keyword">sizeof</span> head); tot = <span class="number">1</span>; <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			<span class="keyword">if</span> (i != p &amp;&amp; !link[i][p] &amp;&amp; !link[p][i]) ins(<span class="number">0</span>, i, <span class="number">1</span>), ins(i + n, T, <span class="number">1</span>), ++cnt;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">				<span class="keyword">if</span> (i != p &amp;&amp; j != p &amp;&amp; link[i][j]) ins(i, j + n, <span class="number">1</span>);</span><br><span class="line">		Dinic();</span><br><span class="line">		<span class="keyword">if</span> (cnt - maxflow == tmp - <span class="number">1</span>) <span class="built_in">putchar</span>(<span class="string">'1'</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">putchar</span>(<span class="string">'0'</span>);</span><br><span class="line">	&#125; <span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>网络流</tag>
        <tag>图论</tag>
        <tag>构造</tag>
        <tag>二分图</tag>
      </tags>
  </entry>
</search>
