<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>[SOJ683]蜥蜴</title>
    <url>/2019/11/13/%5BSOJ683%5D%E8%9C%A5%E8%9C%B4/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="Hey, password is required here." />
    <label for="hbePass">Hey, password is required here.</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="9f6a1c6f404603baad97c867c5f394987065db76abfed47aa83e749eaf47382b">39b3ab97ad2fe4a6ababc42acd0b026e76dd316f9b0ae48f37a5a806e53974f1d0afda32c22f6aaa1dc8fb583635b686d93c44c4c0d8c790d8bd526bfdc4d9def1cd55af94208c87bffe4dddf6fa86728f258c2d2d3878c9870b84058377431fe7b1ce5afb46fc11d1ccf177e12530906791b86a87e85f88dc91b8b69aaf0cc21ad1d35212e7d062b932fdc13c3c7bb4a99af4c8e79258021a3453236a7a6625d4e4f1999d427208f46a05959aef16d09b5281eea10a177e37f229770bd4043663afd8ba9a621927417a216a9e81b7bc75d541e919cded94fbf88dbad551f0c2c651e7a4ba4836901788c9a2ebd077bfe582b185971c1e311ec776ed683176f741e25673277dc681ebcd358d46e149b6093c2c15a714e0538ad0d4460f416df52e65cc45ecf00b8bfa7d46d8f647d51acfb6a52ec38dd2f68346c2050e4aab7a7f32b7de374545f0904900aac7167fe53a293d1c9a587a5c5f4ed2ec80a3f914a70ce6355dc5034a4e6df4e042aa54d1e76385aa800e9a4f2ba195d062286e76afd5e9a6dc44b05226318f2e7bde19f032ed268fad9a72f5040a2b7ed9c29eb02521498b3cfab36085fbb32491e63186a0d81953209c1469db8895e638b306bb939c402a47503308cee1e26a945c9154e8638e83dbd7281a8807206534bc2e1ac02e977516ede5624263b328720aade7fa108c769b2ea488d0e5c7502712358016d2226891b965cbd511859ef3b57593ee64939b53e3bc12f3defccaa1b816c7a1db9b5899c3cb2a45911121f489f8ef8ecbee8956cb1551ef485a7e5c2699c8482b0c68eb8c6ee225f31c3766aea1e04acdd1ee0f1c36df804d976d8aee853ae0a567e1d40d2814c8b9dbe5b802def036aaf4e7a75577ae3445d57678b062caa55228f551b5a3dffeab813e561dac2e8b3da973d408a646c7394d8b8e1a21dc0d36ce5221459be489863df4bf1bd24eef5bd859b3b530311a9f6045fefc7b18870679ba95a842b95a2751d900cfb016d5275140e95fac40a71ec76ecf4c5e1979b2f59bd6d836e164db5d9108ed1d065e0119506ab806867f1efdf4f3ea7a169e5227d61b52c54a65698a89064a2632536a40066eb54dfb8d89416d2c5529b987400d0b873e6b924977d4a5afd82cf45f31990e89da34f035cb5346df6cfce98891965fb689d0b2797e31826d1b9024c379b2ecd6aaae1b3d1f082679ffdbc1ec49363cd675a43cdd21a76b70e80a87ef19a198cbdc1e185fb589f262d3d59b33bb5a3369746c22a1a0569a96c2f76d8f3622b9938f9f0c8c820155125db1bc44cb6969be617abeffcfb22f85828179c92943e76b9665002dc899650018d6b4ad7830dd5c8d9eb7a9ffbb6812ad2e2cba9ff1f25228c92bfc40610a2c7856ef7c551b764772dccb709c05b0741b47fd21e5c67de4b0ffe501259659fc040c59db86944ccc082b23d441602a8b0aae2255630e49cdd3c3c7adf063f551ef1191086b9885e8843a1566d7684c0df09f77f6f2e195336787f2e177abf7dbe0ede1560ec0aeb8d1fd380b5ee00f7bbd868a92b00d3d6a9b7ac47376064aeca6ce6b3c79b838590ffa129ca96e4f68c46c4fc7a90c4e9ee76590f65f82abedfa88002c6ad97258c1881e06ab4b1e64dc50fa0a1e1fc1193b18417178aef9ed6002209e5d60c15b3ac63c4d39b5d231329f0112200d365d933e27d60b82d633342be6c5b698cb16300ce3fb219940fb3c926076e7705ecb9536af43d9bd385584ee4d100a0f1751464d96fe704a2d2de11f762fbd1b02b5bb8fb85bbc7c070a817d80d9404c33a54c2de290978456559a796adec4649ee339accf8ea7f9b01bb357ca59c968b047815501eb91ddb653442d3abbafdca8e4e4daaa45e0245491f59e4b04378fef597d72f8e881ff563d49a636d2253c6537c5f4446ca00ceb523665bc4c191f24d129a3e7ffec57db6eaa5d086d060d9e618b88e60cf4b03a998ad8b356d8c723a638df64b7be1665ac2e209a90e9474e561f8eab69bbd75e8e68853b479bc0630f6666e90200b8108b8a52861c5e8dec19da217cd675dae1f1a734ad2bfb2c41b0e8650feca6be9b7c2b18ff8f811815f37f71f07d4f7160267445e00de23887b9c2717e9ee164ab92f636267b6b723f788d701d78a5ae668f95371fbeee5542b66ed5d5ff36c26c5aba89216175b5fe9067b0a42e3029e829a0c14a36bf0b2f62d514389f8249bad7cd362bd9a70e7b1bc658b07ee0d7342dd7325fb9b4ce9efb51c1bccfe1fe7b5f5ad11f00f728fcfb708a1022cd67595008d338fe2359d598ed7f5c593419910848155e95cd47542cb609470dcabfccf3f66dc8ed2100af1271f8f432d45f14e9749246ad281acc7e14058862abaf30385cac21d05226d4272cdc0beeb13d30df4e5c24851e2436b01f6234160600924d0c2d8389e74c4c4fb576e0f5ac6c5159b5de01c66f759daf01c0e903e84549b8e59d601f2570f738122f5c16f427b58e66d6c5b3dafc3811bb01b57ef36aecd05824cc6d7741a337a8917d66665d9e652487551b5ceefe71af1c41049d04987cc8232c068ebd1ac51bcd444b53d18df0d155446fcb560906c1a77e9c5a6d9ec5e5889a5934afc9f728b85fa4ffe9fd08b885638c64fd835b4054748fe6a070156b92b151128ca61ab5c3129d97ee03fbec8befd274cc05e7341941429ba4acb743f5720e7588c8878342698da5f4b7cb801b950c663dedf10a84c15f8041b3f35aca6159c49b00413a463047f27864e93542b067c1352d1c0e5f8df8e0e99a23a6dd98c2250c632d935dc396cf54a91caf9fa328c81419be3390f64273abce0360a0be6b0f2b4eecac8c26169ec9bfbcd769abc4e923ece94853e420ea2d9b63479e25874f422c490752ab7da32e8f01b58e2795450059b9d4c20891423475b5e34a41eadd7307502729ced754d0190f98d860f19ec27361ecea62eda9f81ee63c62efc1c47f703b9a2a42948215ca717d404afbf43459ed2bbd1b2196b3c46f1689ecdc2344197c44375b1429d4577fdc2a1992ed969dd5a3489242f9b154276045fd82f6845e9111d7c30720254634bfe8d8857e80c4bd018d0c543385685b7de59e731c9e857533cea8adbcf8c0724ccf2c31d397636353e6ac1f23e09b302fec1d2447043de7a1f8ccf1d346c00c5982ef0b5fba901b42e35dc6b4cb25c408224e4db50c6b92696e4b35921bd7b9c499f3ea0908fb64970794ebb11aef1c25db83e1eef88c7afb39d1881ad9ba7392998a9d3cc4dec186ed6df23401c50601186799c83a0fd0f47b156da742a85a7b6471398b2df21dfca870368ddcd32c5aa3d667e4dfb2f0c19b6332b330a3d7b40ecd62d8f54d7894abf9fa250e41356d451e42d7beb4690f06fa46136fb0eb20b5b128901f93ceef7dcc429eb4ed28367766d47a84878e1f47c05c6092f680d32af9d8e97eb0f5e260baee2a4074a1c2be8f947c8a46f000dd06f862c4edb842e2c5582e817124b0442b2d999ce885b122a6a77180d2c0f43e4f247b20523973a4ea3ab4fce5691f3861278b23f71716190bcdb69e1aaf1aba8d21486e95061d6c124b49295ef9dcd62cbce00d2032f91cbad499406bdda1cc5fd146f39cc702a0cd568766d01aa199747ab515839363e3c2e87f19c0c1cf76a848120eb8b347d09caebd254d498c4656d8d0b9d9866e1bec3c08c05d145cdd9ca8e9072eda05900a6772bfe183cc39849ff6a5d4eb640d11ae704814c9f090b92eda74670991ff8889358c6f498ac2c18fdac27445f355267e890407d3cd9d1df85b80f2ab3fb988e6136e5845f2a9ebcf12ca8f00e3abf7909202ed5431cb46f4480db4669c752f465d876be63b3f6694eff9d184cb2da3a7b389729fcaa9b9eb5d2f61a40959237c6291bda25c7af12cb96d81a204adc5168bbbaea7eec830a6dc7973a3bdd8b28aea4d2ba8a444cd71244a3945ac2d999ecfddcad53f4703484d7ceb6fe811488f6d8bbcaa6bd0c368a02adf728d679afc32a5f76b2adf16f7380d11dc77d700ec8000a8af891d69ba4a34e17e63eeb746b37e6237ec8e8b2cf9efd71f4e745084aea1028c830555e9f22ff1b791e724d15dc3f9b3d664593a3b98c822351a89a918a730013139ab0ecd89c7d5a82b32d4492c3ee9cefa21acff14c6ce0daa22ecac0917787a2766144981d9c1bb5fd137777303dbd2cee68c3a65fc919f5df33c660c6afd49845c0cb155347f643b54c45acb771cb3d8e4265d8978fe0e38908e47a037ae44c50a4d8cf3c0846cfab2cde4805f59cf8facfb6c15f8835c450a870a6a55fd06351967579d9cf2729277127d65f62119099c3b207a2dea168c552f834a3ec27c4094c0fcccb44a17385970ff311adcfbb8409d4b0ea879364fcb2e62c0cb9d3a6f6164c50ebb6a51172be42301bd04d26d7b403edfd97942b846d189690bd3226a35d8990c917f5fe411564667f6309463c5ebfdb6a0078621a7e3d491dccdb0d165e3399995ad6bc65cadedabfd22ecc3ccfd6f501053b423a72907753fdd237fa048661db6dcebad32fecab4686e0c5a8dd7f3471cb5a198291e2e9ab0f445d244dab38cc56dd105dbc2a0c6aac36572f939d889f16a03fe1cc91c77d29c8e838b61ba2da949c8e5f262c5a860a245fb4aa300d7e12306962b1b4e8602953c96b800390ffac3b63b63ed0b0206247aae3e5969bbb297928b96d2ab964b29a2052a7c6818d35c48d67d426efa7f2f1b3287f67a3b7d789865ff565f29fe2f04c7dfb2f60843528f0a27aba11621a7f3c16ce2844177906c511b7e40ee6b3a1917ee47f1df0fa4725aa7ae0e25e0f8b61a45cccb01df9fca2c9ed9942d3aa8a3213be885694d989cc5fb02ee801d61e2e5046e9ae6a5fff2935cc9ad4a8a61ff1131ffa667430d2a2e2a8c4961dba373e278de6cd4d3f014ab364dcdd450ae177eedb35b5d08ed74c789f79a7bbb0e5aa1c27bcc481926074984f89a660690bbdca3bfe4f26d2d5a1e525da5e953787109f3a572b88f5b1e964b7d2d130e3c99a0beec7ed53a4c69df6e752d07188fa106b66365eeeeb0c48992786800c6cf7d4feaf7d7170a48f99336733d46241a6168a4975985311242f1f465622a2552d4259989419754b17857c5aede791db7996e7e3ad294c0349df78d4a6065932a97e9963cc15a5d931a11f5a961b092283f890952891e84b822b64aa6ca383575761923364bb12eca8055f77d10268c2d7043f149e1d5b58ecffc974fbb7edd2a72170775d9c8477e793cbaf9eb0d39b3efcfb8c7a5b426ac66426bc2a73cfc57a05cf644e6d7e9ffb76aac4db2cc20ca47471089a0055c7556f4f3e029ac4bf65a37db598dc59296e3851934f358d29b30c8bd8174530ee89317e62442a3bedcda5475c8a6897f8d41faa1c4a466dd4127274316353d5b397cdbaa500186fdfa91f40088480de23bbbd94929d58636a0d91b258bcbeaa9474bfcf1356eb9851dce189e76cd66350504e1ce800717a1cd01a8446f67146747524b34bdaf4fed942651774f36a2d03e5772533b17735f28fd95f194a9322081298de1dc6dbb47afb76dd73fa4eb7ead9f36298dfa6269b761378e0b62e8b3baef439ad8748c2a223b5a54d5490089d7c92917dbcfae9800c5576d09cdaaf73269d066f29359ad339c95e1d976c1c109d532eda1b86f3883cc736c14207167b06c068f8aa79de675d270f71fb932b36990f4426d6a898857c703c69e91339a746d5484a9d92d3bceb35b2e896768f2ce0c826aab287c26968e9e8777ec69c9af85943d9dab2852aed6520a19db8f4d9e821f635321986321970cf48ab090cae26bf9ed5a8d244163c6d76c73d1bf0df01e6b7a735f42cd2bb748e9dcd1db64cc6ffd670910d795f86c38192d59cc997aa418ddc8ebfdfd66df684132207103a4eae33dbc474193f38dd69bf6b37f58875f72d4a7044160d9e491fc7888f28ceb75db098a1baa7d97d1ce62633a436053b5b6631216ba46c825f02ca1021c460fc5406a1e4ddfd006644cf7244afc30b3fdb802cc143887955a6a52f96a5676b4cd553d9daa687d81b82d646f4c899c1e8e1a04033f57db9929078cd4770fdcd7d530cfdbc64da1911ac7003ae28a1a7b7df48b450acf5df56dbc9e86a404527ee3023c048a8851a66b7bca132afa8ad7f2db25f689c3933adb6c017f06b249778825e4cb4312557af485de69b39de89530d4073873816d97ec2e673110140691d5d5b45529b69f67297b674e8819b8a5c04effe86e6fc50e6bd9db91016177fe6cf25f8b7534757e72290540379c186c3f81a79c2c5a623e98c49de51b1db60d50640408d041e8659294db06c64e1ed0f74431e834a29261eb213b60ede3c129fd521797ebe7181f0ff20ed1ac4f39d794e71b2a3486f9bc0a3ad64e6a91ff6e7eb53117834d1a65291190e5467d2fecd36d7441b6ff4bba7168c86208839fafabb1a0aff394d4910f6c33493af98d9e9a4dd73fa155c7b192083404ab3e6b68803379a8b8fdc447b2dde2fb3384620565811539d0b2cf1859408e0909dd60207fe939536120256fbbbe9ecbae2dbb46f1c3d2597b211abe7b89b88cdf74c865625adb36e68c577085c38dcd838c14dd5fa0a5a9b91fc3219dbe0d582ecf8719d5909826978a46f64cf4cea5a69745827cfda99bad391b8482c8ba351476019f6b2280599d3805c091b60be7986f3f2574c88c1f91ec306fc5e84b3d596ed203b40335c391443d4d9f224f68ccbc202cc849ba05186ea13496c82b86639655112dcd59</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>贪心</tag>
      </tags>
  </entry>
  <entry>
    <title>[AtcoderAgc034E]Complete Compress</title>
    <url>/2019/11/12/%5BAtcoderAgc034E%5DComplete%20Compress/</url>
    <content><![CDATA[<h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>树上有一些碎片，每次可以选择两个距离大于1的碎片在它们的最短路径上分别靠近一格，最终使得它们聚在任意一点</p>
<p>求最小的步数或告知不可能</p>
<h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><a id="more"></a>
<p>对于一整棵树，如果根节点的所有子节点到它的距离和为偶数</p>
<p>且子树中到根距离和最大值不大于这棵整棵树到根的距离和的1/2，就是可行的</p>
<p><strong>注：等价于这个问题，有{\(a_i\)}，每次选择两个数各减去1，使最终和最小</strong></p>
<p><strong>如果\(2Max&gt;sum\)，最少距离和为\(2Max-sum\)，否则与原sum的奇偶性相同（0或1）</strong></p>
<p>因此每次要递归地尽量把到根距离和最大的子树的和变得最小</p>
<h3 id="调试记录"><a href="#调试记录" class="headerlink" title="调试记录"></a>调试记录</h3><p>真的是做了整整一个晚上<del>机房好吵啊</del></p>
<p>用sdep[v]算到根的距离和没有考虑v是否也对距离和有贡献（s[v]==‘1’）<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2005</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">E</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> to, nxt;</span><br><span class="line">&#125;e[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn], tot = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">	e[++tot].to = v, e[tot].nxt = head[u];</span><br><span class="line">	head[u] = tot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> dep[maxn], sz[maxn], sdep[maxn], sum; <span class="keyword">char</span> s[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs1</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> fa)</span></span>&#123;</span><br><span class="line">	dep[cur] = dep[fa] + <span class="number">1</span>;</span><br><span class="line">	sum += (dep[cur] - <span class="number">1</span>) * (s[cur] == <span class="string">'1'</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)&#123;</span><br><span class="line">		<span class="keyword">int</span> v = e[i].to;</span><br><span class="line">		<span class="keyword">if</span> (v != fa)&#123;</span><br><span class="line">			dfs1(v, cur);</span><br><span class="line">			sz[cur] += sz[v] + (s[v] == <span class="string">'1'</span>);</span><br><span class="line">			sdep[cur] += sdep[v] + sz[v] + (s[v] == <span class="string">'1'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs2</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> fa)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> link = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)&#123;</span><br><span class="line">		<span class="keyword">int</span> v = e[i].to;</span><br><span class="line">		<span class="keyword">if</span> (v == fa) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">if</span> (sdep[v] + sz[v] + (s[v] == <span class="string">'1'</span>) &gt; sdep[link] + sz[link] + (s[link] == <span class="string">'1'</span>) || link == <span class="number">0</span>) link = v;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (link == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">	dfs2(link, cur); sdep[cur] = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)</span><br><span class="line">		<span class="keyword">if</span> (e[i].to != fa) sdep[cur] += sdep[e[i].to] + sz[e[i].to] + (s[e[i].to] == <span class="string">'1'</span>);</span><br><span class="line">	<span class="keyword">if</span> (<span class="number">2l</span>l * (sdep[link] + sz[link] + (s[link] == <span class="string">'1'</span>)) &gt; sdep[cur]) sdep[cur] = <span class="number">2l</span>l * (sdep[link] + sz[link] + (s[link] == <span class="string">'1'</span>)) - sdep[cur];</span><br><span class="line">	<span class="keyword">else</span> sdep[cur] = sdep[cur] &amp; <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> n, ans = INF;</span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%lld%s"</span>, &amp;n, s + <span class="number">1</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> u, v, i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>, &amp;u, &amp;v);</span><br><span class="line">		addedge(u, v); addedge(v, u);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> rt = <span class="number">1</span>; rt &lt;= n; rt++)&#123;</span><br><span class="line">		<span class="built_in">memset</span>(dep, <span class="number">0</span>, <span class="keyword">sizeof</span> dep); <span class="built_in">memset</span>(sz, <span class="number">0</span>, <span class="keyword">sizeof</span> sz); sum = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">memset</span>(sdep, <span class="number">0</span>, <span class="keyword">sizeof</span> sdep);</span><br><span class="line">		dfs1(rt, <span class="number">0</span>); <span class="keyword">if</span> (sum &amp; <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">		dfs2(rt, <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">if</span> (sdep[rt] == <span class="number">0</span>) ans = min(ans, sum &gt;&gt; <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (ans == INF) ans = <span class="number">-1</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>树</tag>
        <tag>贪心</tag>
        <tag>递归</tag>
      </tags>
  </entry>
  <entry>
    <title>[HNOI2012]矿场搭建</title>
    <url>/2019/11/12/%5BHNOI2012%5D%E7%9F%BF%E5%9C%BA%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>在无向联通图中设置一些庇护所，使得任何1个点被删掉之后（同时在该地的庇护所也失效），所有点（包括删掉的这个点）都能到达至少一个庇护所</p>
<p>求最小的庇护所数及最优的方案数</p>
<h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><a id="more"></a>
<p>把所有的割点求出来，把这个图分为一些联通块</p>
<p>如果联通块里面割点个数为0，需要建两个，方案数为\(C_{cnt}^2\)</p>
<p>如果联通块里面割点个数为1，需要在除割点外建1个，方案数为\(cnt-1\)</p>
<p>如果联通块里面割点个数大于1，不论怎样都可以跑到其他联通块中，不用建</p>
<h3 id="调试记录"><a href="#调试记录" class="headerlink" title="调试记录"></a>调试记录</h3><p>没写Case</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">505</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">E</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> to, nxt;</span><br><span class="line">&#125;e[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn], tot = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">	e[++tot].to = v, e[tot].nxt = head[u];</span><br><span class="line">	head[u] = tot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> n, m, _cnt, tdx;</span><br><span class="line"><span class="keyword">int</span> low[maxn], dfn[maxn];</span><br><span class="line"><span class="keyword">bool</span> cut[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Tarjan</span><span class="params">(<span class="keyword">int</span> cur)</span></span>&#123;</span><br><span class="line">	low[cur] = dfn[cur] = ++tdx;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)&#123;</span><br><span class="line">		<span class="keyword">int</span> v = e[i].to;</span><br><span class="line">		<span class="keyword">if</span> (dfn[v]) low[cur] = min(low[cur], dfn[v]);</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			Tarjan(v); low[cur] = min(low[cur], low[v]);</span><br><span class="line">			<span class="keyword">if</span> (low[v] &gt;= dfn[cur] &amp;&amp; cur != <span class="number">1</span>) cut[cur] = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span> (cur == <span class="number">1</span>) ++_cnt;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (cur == <span class="number">1</span>) cut[cur] = (_cnt &gt; <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">LL ans; <span class="keyword">int</span> Min, c, t, Col, vis[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> fa)</span></span>&#123;</span><br><span class="line">	vis[cur] = Col;</span><br><span class="line">	++t;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)&#123;</span><br><span class="line">		<span class="keyword">int</span> v = e[i].to;</span><br><span class="line">		<span class="keyword">if</span> (v == fa) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">if</span> (!vis[v] &amp;&amp; !cut[v]) dfs(v, cur);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (cut[v] &amp;&amp; vis[v] != Col) ++c, vis[v] = Col;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">int</span> T;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</span><br><span class="line">	<span class="keyword">while</span> (m != <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="built_in">memset</span>(head, <span class="number">0</span>, <span class="keyword">sizeof</span> head); tot = <span class="number">0</span>; ans = <span class="number">1l</span>l, Min = <span class="number">0</span>; Col = <span class="number">0</span>; n = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">memset</span>(dfn, <span class="number">0</span>, <span class="keyword">sizeof</span> dfn); <span class="built_in">memset</span>(low, <span class="number">0</span>, <span class="keyword">sizeof</span> low); _cnt = <span class="number">0</span>; tdx = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">memset</span>(cut, <span class="number">0</span>, <span class="keyword">sizeof</span> cut); <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span> vis);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> u, v, i = <span class="number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</span><br><span class="line">			addedge(u, v);</span><br><span class="line">			addedge(v, u);</span><br><span class="line">			n = max(n, max(u, v));</span><br><span class="line">		&#125;</span><br><span class="line">		Tarjan(<span class="number">1</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			<span class="keyword">if</span> (!cut[i] &amp;&amp; !vis[i])&#123;</span><br><span class="line">				c = <span class="number">0</span>; t = <span class="number">0</span>; ++Col;</span><br><span class="line">				dfs(i, <span class="number">0</span>);</span><br><span class="line">				<span class="keyword">if</span> (c == <span class="number">0</span>) ans *= <span class="number">1l</span>l * (t - <span class="number">1</span>) * t / <span class="number">2</span>, Min += <span class="number">2</span>;</span><br><span class="line">				<span class="keyword">if</span> (c == <span class="number">1</span>) ans *= t, Min++;</span><br><span class="line">			&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case %d: %d %lld\n"</span>, ++T, Min, ans);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>割点</tag>
        <tag>分类讨论</tag>
        <tag>Tarjan</tag>
      </tags>
  </entry>
  <entry>
    <title>[SOJ689]数字</title>
    <url>/2019/11/11/%5BSOJ689%5D%E6%95%B0%E5%AD%97/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="Hey, password is required here." />
    <label for="hbePass">Hey, password is required here.</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="9b740d70e99b185cc5c0b53414abf531df4c1955a05e8d6848c52e848933697a">39b3ab97ad2fe4a6ababc42acd0b026e76dd316f9b0ae48f37a5a806e53974f1d0afda32c22f6aaa1dc8fb583635b686d93c44c4c0d8c790d8bd526bfdc4d9def1cd55af94208c87bffe4dddf6fa86729d11904da91f195d855910ce6ce1f7816dd66184a7be74a6abe99e54a96487ceccacb8a8906df4f02d3e3840a21135ee9f703d3a1a8b73b4ceffbcf117747d7a0e1251f9eec63bf23a6755498a714dd2cbfb52eff6137c58f9dae94238ee3f78f5b0c51595d64ca9ec2b642a63f303747871f1b2cafb77dba1539f5dcbdaa2494834aca8e712b444f187c12693e5bd30ec2f41f858b6067129003a7c24bb66d170bc763943e947de5d79583fa758f714add2f74b14cb7596e354aebf2e9634e9fc5a80b24198b0daee04e4c70b77096db6d4b9704dd30ad97562e6d9a951ce5149fd55ca1639688dc5bbc2ff77972c17085c82841b4c3f9757ce187422bf8c2abc7829f9688c232276f0ea208dabe98b220eb68056cb3570231ae4f2128b835f233bd456a157e8a61c03c3676d1dc9384bf47d49f5b29ba8d71fae2ed11f0f6646167cfd64e4574107366e6d4ba655f0805b7f4618bfa23341b0eba97ee079050139a04e377046e7e840bac8fb2773f72d706be60447c8a11e6cf97e9cdf2930b21c20ffc8356ceccdfaedbff38d601a55bbf8b9636c5bca99cf25fca5aa78641ff1b5653becdad5843504e66b54954ea997fb90c5fa9f0cdd29fa8c42b9000fc540d07f0870ebe77878af518810dda5357173e1a526b2a7ff17ad6bc210c40c7662e51144e984b3e99e2285462bf0b41049e245d849bfaf776e789cd74be62471ece1b5988d7744b88641d3009b950d15b017411ef841d06c18c9ea004a63303231820ec0b758ad77007587ccb33240951b41b8feab1ae83743ff6c16764128260bd9810172b0b78f85b00fc5a720a27b3102d154cfca65e32c4d801cd4cf69a1a4ca5fa594b89077bd847a1d1f47c0ca2f0b15c421430b35ef8d4dc1842e0eda32c04aa65d4cfe527e1d06770f14bc04178047a381ed97b9a08098c1e8bcb3ca13d41bee6d87913d6b980c07d5a4763bf9d6c936deff6aee97d4c222e242117be0132a9e6e2984f717d11578c5c983ea8621c14215aee9ad0b747a1c0a8bd3ceb5b3b4187c45375df260c8f885ab06758f42f2c16128d7408de7d873514a5e26f7dabe75fb20afc35dc06f30addc0783d581cdb34392692f34d345982629fe7389860ba885518517c44320ae5aa18d283f8103dfb81e060a4408b4f7219c1b17e223d526f3d8e5e250761aa29617d627ff5dff33256e87d7e3f812645f7f4664427a5e88a3b9c433b49f10a4efa847050411893250cc54d1367084afe4989b373eee0419848764918a480b2d1fed8a7f217adbd3d826f5faf51f394b15833af1ca08f20f33db7bc8219bdf86b90b7093112abd5a0ae762fadb9d4690631f311ca1a04700ae583d4a81bc52d9e767c1fd4ca212ef02aac96ef0fedd5b0463701b96e8912d51214a4e4a15539752d49dff10f427d058b58ac25c33139fd6036eeca245a24e635e2db6df10be2625836d58a1a7b53d2aab5ebc161d77b2e7630c617aacc900b528e595cc017ac33f9802b819064e3f3050de5bdd4774961eee5ce5f4c2dfbe8e9cb1a39d9c15a92c62f3b9146f8296aeb3ba83facbec8ac66ba7008dafffaefc984e66e89626f60df0540fc94216d5f9534658fe120098a1cc95744eb5f22b8e307f15ae08243730eea465643d13be99331eead08041ea80ed1d80c38ec0a10d7db361997c505e581c46e12012eec75370295f9824b77064b3316c06f4dafff4b09bb6c0d7f02e2420f34b17ec2eb3fea84a26904d19dae887278e3fdc5f7c2339407bfcf6c4f1f9eafdf41096d13425b1d28c6d1b772b4422e288c6e3dba605233bec52fbc986c8312f5a24f1f6db0452c60e4000626cc32e709613af7023dab23035b2b3b269621c6569e34c5feef7ff802ad850794252c4f8aae582e321bca972d8984211aa0b6db90c9470bc764f8b94e9ba74c82fa59923c346f365261261af81abb05b3cb1e3993c7bddd6c38b2efc94b60211e257a25e09bab37f15fcc7419964fad51742113f55de889c5718c3f0e6acf36ce5ecf3430e6b9afb7db67c32627a8f9c08aac94514a808cd21f52782d04f4498639495e1831658182c36a0593bf4c335af75aaa105555343f30f8ae14956d33814ecfbb426fd87bac7b9bd611ae43b5c8fafdce0a63a717d981092dd5ce5709bb8f3a012cfe479ece0a40d1f79004d9b3f256f34647b85515a47d6937f6fcf524924147ba2018f5634ae3e4030bea704c35286ffd587ff1742e1e73d202c85f9b61c11eda082d0b97e8db39b47f8ad0e2dba4e3110a27901c96483986d1d173ea002076ac8aa933cc5adc96d3e0d9fa6f2a34f1cd7e3c79e8b122b3bce28ced8b038cde00bbb9828d356459246fdf3fa5e9c5c348358e24dbd4aa043c5b1449b140569940a8d61e5f33929e8a5b8355288bd859a829284c5aa0b789d20962ebf155ae4a43c78dadb8bb66589f1f5c8d62898421ff0bec0f02b363ab5a4d71e7e5c4759e39c37ef417f6fc34069e414f2ab55b85841f842fa1bcd206c4630cd66aad42dba56a687d80cf8979a17371411d98285b0e31b1ddd882b2bb032036124a5aa8c83341328402fc012af11f0f120a1986c216afca12e6837499ab995f99a6f756e363e224c6b5099198d99a80514f99b4b2ba82f23e899a3336c6574a91f60e1c26842c115d88795aa52cb01c2360daddccfe4b9d4cde9a1f7ff6840b779cb0ba72c0eac2aaea30db0c9ec6f7dba05469be12eb8dcae82c5e25166fccf966dfe280c86bb8a75431ac4750542a351edf970a112fc2f8cb68bb1d89472085c984422657fd991d861ebe60a2121be10dff96c3f1a41361ba1ba67c7ab9cd46fdefe0c9b73c654fa7945ceb636f06c408100204f06d3b4c55e1f0e7aba244e85324685c07b3c884e012f55c59f2e4f7a5ceab67d4e4e60c87cd0a169d4c2193f4fd2341fcc92ab011c5a76e70933d5fb5199401c3d1eba0cebbec869e0d01bd3feb83526b194e934ab56188a008eeafba086cdcb684a1f6f94195bc9cd94092160bc69840d4872021e71830b30080b86fc5ff0942d078f06b835a2c8a0564e440b37ed2a7a73fd5ac6bde042e23b0eafe5eecdaa4cf5d51297278a1631ac9b349f44510fa32257115039a6a85668f15867b9bbf2628aef001023ff8b16f82922296871985806ccdaa060cecb20ead2900049fadd4f533c4b3a7808c1c1581793d57f7311a35863b3f1e1797f186829ace611ec957bd7cbcdbbb287a87a0fcb24947f5fe05a696b52bc0a8545cfc9bdfd85cc7273b7a985a0589f4a6ca4406360e505004834d1494c25b3b1e987cbc47f2e51776012987ab3974f8ba6d6df1eb2cc72651b0915f34955784dadfce7c4b3483cb56856a44f75d9e046ec1f98a7e83124046d67ba99466ac60a6bea4c4bd5faf17e9cce7f306a7df1ff6af2e1a23a618703536b04a03dd0daa4545bd178a2d4c04f4fcbfe478f9a0f29ebd952c6a9d4fd2b303186d823698098989625a0f8369baea0377510877abe73cde7e2c95a3e374725928a4ccf6984018823ec28cdf31a30adb2b9684e7fe86282053042ed34ed21e6ca18688f92549fbca200d63cb5cca11fb5a0fd8ea2ec644598b109c7f97106ca236f06b23ae0ba969f214c32c4367b280b25ebb9d538e3ce129fe05b65f45eac6b9e0e7259574d91f408aa9d010b04ac33e8b13ce34895d42bfb6cf7d752a4bc4f38107f15fa34bfeff4328d88832af5dba2ea3e9cd66645363475676d62f86f139745f82c96b3dee35d9bc407fe6b677759ff8e010aef1558ae3de1d5f4e7e7831017c4d4673be6853d12d04d2e4a75535b5542c24d5ed003b70da18f6f9cb8eb05a5359515bfcb623fb047ebcae5c0388d5d4cc878e8b302e9ed4e8d5387f55ea2dd95ef7878b1b7a2d412da03f4fd6804f6cc85052affb737442ca0c115198c83ea9bd90d237db5063079d797740e0267fbb7d43a3eaa47e961a46762f1a319dbc07ea0dd2ce5e647dbf1d273b4cc6c7990d46dd8f46013193aa7064360d8f2b160f09a9d680738c4cbbfce5259909b7b11a3ffe6715ae19c3c5ffb44290952f42ab1544f8c8936a65fb571084139cde800b5a17d9d4a2ff9cbb1199447cae7558a9932486029e407e8071f121ce62de26cfa0831cea27307fbdadd2d05fbd1fb0e736b6646fe5373a76be596638727074bfe100b7e37306109952fa844a65c7069a94a9029c460644b5725d4bffe61f69d80490a183314fe220e4d07ef165f4a554c0328a41a922709e57636565ae9f5b3754cf5058b075f88c990250def0bf24309caddc84c3393e0a45ef3940972e649fbc03f6ea089d4d53e0de7432bb0f2f406a3bd7d0bed39d7058b15e5d06cb63bc85623a366be6afe21e4e182b0f45aaa7b9248094a133191231f4e0a981bec05640225386070a6a492aa1ed0fc3e7ed8e64bd5c982b37ba8eba365c8ee2ca1fecce21e31223ae2b6cb1045025a720c7b5731f44775a669760bf3f190a2ffd8f3493e20df704c10b8bcb241954bf31a7ba35adb9d3e8642a49613255efff1a1c917174042d9d81887f106c91f005057b48c01a90e0a6d0dd530ef61a20eed91363223cc2b445db3b712c301706f64ca4b04ca02802db1ad3466247ee5206eee5916d49aacdd2e7d3315c8fb0bef848ec5c157712c4a07f30d853c0043888c7f71adf474339641c7ed0c911d2d2c9da5b6aa0ba12f308419a3c8dd50a288d73e60b4ff1eb865428fcb3a4ae66583f3a8a5d0ba8043e423c386be69572195462f7f97a990575a3b67c5e4111d92c39e04180321f0a4a9d3dc9a36ee47b220636bf2c1f7816bd2e4970cbabca5e9f7b2178fc66e98212de12c05faf9c4a891d9849d602fdb3742fbd94a996a7e06ed15f0a44244d8665739e0b0ee0c689e7d0eba9c8e3c202d2182ac56156edae23868ddb2898a21b690ffcc718cf949d70e1fc22c50e5e28bcd6985f04542063bc8b78478a946614d96ca6b1e36d9ea764b817e6dc8b413645046ac6564cca78a45e9c609bfd5067c3c29af32ebc14f402ffcc0d1a1f79510ddc4cb8ff0cbf7feb7b10c96e9f723eb787b36d6ff046dcf989213cf8a8779948a4c95d5d5f5a93f74b903b27e9523094321867fad1e81f51ff51abf00f888adda5c40c4e34bc93bf9d6b563f7ba43c4ac6f134bd0dd5f2fbc0f0d62693cb218cbaa57ea0480fbb3aea286763e66f2e5cbea26ab9bada1f055a7df015f64d57b59514b1257db84287348b2f538695fcb35942343d69ca94912a76f55df5565ea6389021cfc09e22199076b7797a0bba05343228f26d83147f7062de286134ed85debc3e9ee417d118c2e6e19c3fde220d2977c5adb64a539030dca11ce60cfbc60fe4062f65c68220f525fc7e7448e6ea43a8b1abe5e3ac84bb59ef4244c31c0bf16f3889b2b77db6946e410ab6c6cff65984e52f491955d6f1e9e4bf78542fcba369f4c414af4a956d2fd7a8553b03801ac91b1599da16b95e61237529dc20d9f384685f01a3b0bb5ea69c589b79c949556e87d0f976027fe0d7ad28ab23923d96c0c06f9dd1fb32befb9b9b907fc1ef25116ca37a04e0456cf6cd69ecfd7ab14f58f55731ca4f342cc94173600338786f3689f8f0bd4d3a71db61bda97f515c29eb136b795cf8ae1d65105c46b8662c67652c97735af8bcc0efdd457ea96b8a008f2b310454640144abb56c83cbf3f70bcfa9371f915cd98394b5109fc65ef2457476172db4b00677009fb99d534de6956d9d59d4929edc98a8affb1b3be753d6271baa51c4bb948174bb2e33f16d11bfe91c46241ead83f79dbb83941108d60a7b9e00a24762747bb8ec18ba203f9bcdfbd26c5c7cbb6d3cc51ba356539f50a1da1f37a4cf5b2b3bf7129a20a6c5457b50af0d5a7ea65ca08bdc9cde67e9adb750656b058d1b4453937c4a4dc15c05df5fc586bfa8d5e66d94c89b6eb171bd63842359904f9ff25aeac51e965526d8e2458cd3f5b1f586721adb3e1120061c2c9d807b9e858ce3aa84ea7cf94e8755452adbeb880c0f209b00c0239f349974c856eaaae8cd58b8027f359f2f15299eeb300af5417d47085af919ff4ffdbe043d74c14baa9309771d310b5f3474919f2269d0f74d5e9d8bf62dfa6fb848d85bae57cfee647ce2a3d64ae5a256a3bc6888b194a8c2bdde8a6a2d69dff03bd705de183a7eafcb0c7701cd63d928c7488bc9bc1e58ab4569b20ea0f4c638745887fea48b5a981fcba5db2291a1835940a499e0aea0f8599323305b2fab8ee086d2d1d7492ed0dcdc98951e816093f9167ff42e0d66b18aec1b7618eb17b14789b9473e3b5ccbf40c1001b5d84506ea7f868dfed2cab521022b1fc9d4aa06c46ed46fd98854b79d97d2880872c2f9ef81adf1922b5335b29866da5a1e6d651d35c1a23efc2fa570839e53ef3ffdf5bdeef58a1d7a4083df6145fa2eeaedef0d4c235ac4a5f8ed220797c201c3f8ff56da9038555a846d2543b7e43f14886207596b26739fbed3dece89a9c656cecaba86e79595eff78344d38ec8905577d0f8701a3ad8dadaec9108f513d2b927fd20928f6608e94bf44799cad4ae7edeb00d12dbbdb3a733ed091961a7a477e6624a373d7d4587d6561643ab031515d5dbf1f7df7fd3648a7e116d9d59f386d296d79fc111cdbd8342f81d0d47413ef6353588833789fe4ea01e999dbef743846d84f8643bb97b32a1110e5fa83cdc2c4aba47b787a832aa31a9adae9654746b47f47f41f056b9c10029031b0baccd5a1c6923ab5656655768b2f0155ec5d1c8067ff2da7d90928440c2a981e091680c2b1633fa92ba0ba58aa9a4e1936ef33b0abaa02e407f6d6c431c19beb2e855e8b25fa42eee4e81fb849b23479ae52f47ffcf9fc8899c65c0d7f56f614c0930aed9c5263479e97252a6499812c3fdae76fa14526427bf9ae917d07afda16e9e62b15c6c2c4397ea22d19cf16c9c4b67117b48d2c57522e84ac93e9537fa474edeedf18c0ca4b907f8d1280d0a3ef5c130ab233b6e26fefe744750afae943f16ab1694c3f3b8945ec3bcd010d56b4943d01eeb98c48882fb92935bdcd223a7d3a3583f7be20bc1fa09f931628183626ac07a7dcff9262336d599903ef01b72cf448bd0af3be10f002da17baf5116a7a3c5f2a88a4ccc7425c8ab94b8f7b5ef0bc1e2a83a1b43c301b0ab64d6c27903c303291e1a66976fda2422c15f02bf4ec35547236ce3f3deb1f3aa3d226eac5bd301313e4a57744b93f74f1d715290605c074839d73dce0101f3c9acd95104e651b6eb87593b775dd3fe6f77f4e06cb3e33002ba8af1df7922470ef1d340edae3fab490f9c923e29e7d3942db42f2dc41658efc4c5ad00cb0792b9efb95bf4ae25bb188ee595d332ec5bf5afa51c03a39c394f4256f9deea2ecfb9ebcb30605f400cc5a147ee19cfb1b438e418b4797b8a4c9fade2d9ebf78628771452c438b89aae2e6bd544903bac9a039c341cffa34301ce5fb7d387c4952ca4ce928ad0b141d4f73d0b11fcf5eac49d5220a04443c06d346b90a589afe4f0f06bc9be3719300b675a78ddb4534d058d9f345e84b27e6f6455d22dc5a18f7d58b5676771dfd090452c011cfb3be65c1320fda39350b7fdfe96eb5c7c3da85c2e340099a2bc2ebd980a7e823fcce8e1440a0bca44bcfac4b31cc877888073ce335d83b21ecb8ff6f529d1e16b3ee7817775676d5863e712fa7c621dc939c3fdc0e42e9f4df5df932071c0df07867043c612e12c69d7744174961e50fea667b1785873808c3a7a012a47c8d74506af5eac3f095359a2ab16740d1d4b922afefaf02af36fa7f5d1d8a6a7e318745f87618e2d9809c5364e0d045c15eef86a41d7810873228ed85024a3ba7a6c1599e3535f72365244d38db3e728cbda6c4bb3d785c1c2629fdeaf898b6769399d7140b63299ef8902be16aaab656dce5bf6a5af0300606e0c03136e9a6e56aab280258fb3e551c6feee7a186a0f1683f8958103ffac26368986419332ac022e303e9a5a02966661e48ea35554ff637e8081dba9a3e18cefbe3dc9f42dcf6e8fcdcfdad0ca3794486848d079dd4036935e79a83dd93c3e03a282b983dd5829e9ed0daa4e6e7985bb484fab5599716c62453688566a2ec9f9823fa9efd6db431f747671fb529143171de871186caf1b24b9d62c32436f30d3c8778e8a931caf568349163be9aba7da1be132c4b9875820b74b94240ac296c6f19b6858babaeff2b6b7299d462921b491d5c7df03c82d88ade4c1da4a56b83ee095d2d0e09a5f3a115e6df9b72630689239783bac1076de0ca7d9d9587d9b396825b023002aa0d565a786cd6b97b04574563aa20b0ed8f435281c0d53aa3b9e8017b392a542a16b4ddb036afb74250370d6052efe8006d3926b058a6a35a0fcf60a4fb8d374c9aeba8e6bccb14b4fc18f2207809d5c5ded3b1c50da8cb67580d450651b970406df7263303071273db0331e39301ef6c635a3786aa3f1a9d1e154c7973b806bc406fe1436d5f28ce7c745c945d9058ff31ac11c5f4f817df899a098daaeb7df16780968ef03faa27099583a8d3285ceb9cdd115acc339448bc7aadb089eda26567d4a573af9cf8f44def1ad9ec30f60c038c16526fc13db9bc0a49330a607d7824d6e881934be23162bc2590d89a927f4d10fc8fc202e04a21ab19e4faf6ffc96c2419c6ed7a717fa2a1d0fe024831d099f01658c2a065e5a8d2f497fb847b4839d9a3c6eb9b6424014b37d218e79047981ca5bfb90ccd6a239159901b595d8708a83e854afdf02a5307d7b7669fb39ccf767cc1e3242195fac3f8d5348f96eb52623d3c9e0fbd50cc0682d3b82bc5daea497c8e8d2554470f29390af4906fe10f67536b6318132e000163192cc00dcfd5935d1704929ccb8dfa670694de3786be4c0174d143154b450318b5cabc917960e6352f224917f25cf641001fec53c8b5cc4f7ddb0ef4cc9e4960897d2bc4c11de882ea1ad5a5415240e198ce702bebc3eaffe3082f0284273803a25b96a697bb80807de59da07039ded87f2c33bbdec545e8465a3f41f3d66e49eae4f2e979ecf33034db8fb88a21c75b49a4d073fdb95cf0f742ef783bff43261ce7f8fe280612a833ba4c9ee75f8f02bf5fc70761b2ebdeb6a0a45a71ff458f2733f2a88eb9c5a75615bcfd3f2286ec1f1b996841095115fd75971c338420c227581c876f19c70db00a65f088dc403c4f1f5909474d056258a094a30ae4ee384669ad4e555ffccf766d1df363efa9d483939af33e1ba4bf20e93136648c209d7a28962385161f3475a972ede870f093a96290c924840ad365e921d2153f122d6ab4e056d492c8d332de800e25d0bf5ec1126106c0547476caf97489fd31fbcc12ab85d8e2295f5eac15e8c9c19508b3edded624c7ddddd02c9f3742993f71eef0f6a13870d4db6141af451f2faf2e2c160459a1ffd235d668c1a16c2bcd71a833746ff2d4fb9bf1e2c1024fdf8d52fb2905caad1522bd4285d61792fe392a4b6df7377df28210caf88e72093eb66bb490fea55433e801d3a8ecd46e960a0266c62c2a6e053c22fb075f647fdc28cced0e86acec213fd2d289d3e79df27744ec4101e4dc4689977bbe078d7e1f17b7cafda7e55462ec70721af0a46ff89d0465980bc51301994fd4b9deb680336b525d453b551a7afded7825425e25657a7b12c5b74f301b73185393d56c5404806a3573ffe397bcfa0d40293db8f575858ce41f691af054f6a47f1feff7674c736ce2c203a5f2452511a139300b770de3017e7d050e0f2a13032222485eaf97ce6534ea5b3fadf893e3e8e3121bac48ef87b39bd9b2424d978fd9a987d9b465995bb03d03f8186dd4f48baad6e29f2d65aaed9061f8e43fdd8b9a5ed519080921044a324b069d377733af77905c7837d50639b40ef922bb727f37221d6b22d3e3b665d28caded9c09f2028947f36741d16249c361e89db148b3e7ad1569489b603b3d91ea4650b91f1e8ef02a8a5999fcc4bcbb28477544ec7c5de59b39ddc9ae26932b3e13324c62b7dbfd285c1caca74ed839e882d955bf55b3de663900a77850d593796f0bf7776146fba994f50997f6b0e0d069cb8f8ba89cac4bd35e3b35e6bcb54d428d4244b5f063e26617a12f177c853bce431b59b1a2dd8f7f1174ae15c5ffa192b6a66c9baf240b2a09de60348298876e970f9db7eaaf845b1b6c5f7db95b039ffe5fb5885f5eb6cb4cf899921799b02cd3ab0e36c4ce86fcd4223d9bb5313a06e5451a35cefc6302ffead5b70c34900199c563fa40106fe101f10fb0207557afecd0807ca8ebbb83b984b905a4735921cc146bf7bd6ef7605b651467149f12904246bd3f03aca315274e125aa77d1d5f33b20ad7c13c18480378636fb8223eb984f6d0c58c19d1c198cefc94</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>动态规划Dp</tag>
      </tags>
  </entry>
  <entry>
    <title>[APIO2009]采油区域</title>
    <url>/2019/11/11/%5BAPIO2009%5D%E9%87%87%E6%B2%B9%E5%8C%BA%E5%9F%9F/</url>
    <content><![CDATA[<h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>在nm的非负权值网格中放3个k*k的不重叠正方形，求3个正方形的权值和最大值</p>
<h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><a id="more"></a>
<p><del>题解里说，过一个疯一个呢，我看没有</del></p>
<p>在矩形里放3个一共有6种情况</p>
<p>处理出对于每个点而言左上左下右上右下的二维前缀和与k*k的正方形的权值和</p>
<p>转移显然</p>
<h3 id="调试记录"><a href="#调试记录" class="headerlink" title="调试记录"></a>调试记录</h3><p>一发过去</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1505</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">LL s[maxn][maxn], a[<span class="number">4</span>][maxn][maxn], f[maxn][maxn], x[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> n, m, k;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;n, &amp;m, &amp;k);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%lld"</span>, x[i] + j);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">			s[i][j] = s[i - <span class="number">1</span>][j] + s[i][j - <span class="number">1</span>] - s[i - <span class="number">1</span>][j - <span class="number">1</span>] + x[i][j];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m; j++)</span><br><span class="line">			f[i][j] = s[i][j] - s[i - k][j] - s[i][j - k] + s[i - k][j - k];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">			a[<span class="number">0</span>][i][j] = max(max(a[<span class="number">0</span>][i - <span class="number">1</span>][j], a[<span class="number">0</span>][i][j - <span class="number">1</span>]), f[i][j]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">			a[<span class="number">1</span>][i][j] = max(max(a[<span class="number">1</span>][i + <span class="number">1</span>][j], a[<span class="number">1</span>][i][j - <span class="number">1</span>]), f[i + k - <span class="number">1</span>][j]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = m; j &gt;= <span class="number">1</span>; j--)</span><br><span class="line">			a[<span class="number">2</span>][i][j] = max(max(a[<span class="number">2</span>][i - <span class="number">1</span>][j], a[<span class="number">2</span>][i][j + <span class="number">1</span>]), f[i][j + k - <span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= <span class="number">1</span>; i--)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = m; j &gt;= <span class="number">1</span>; j--)</span><br><span class="line">			a[<span class="number">3</span>][i][j] = max(max(a[<span class="number">3</span>][i + <span class="number">1</span>][j], a[<span class="number">3</span>][i][j + <span class="number">1</span>]), f[i + k - <span class="number">1</span>][j + k - <span class="number">1</span>]);</span><br><span class="line">	LL ans = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n - k + <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m - k + <span class="number">1</span>; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">0</span>][i][j] + a[<span class="number">1</span>][i + <span class="number">1</span>][j] + a[<span class="number">2</span>][n][j + <span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n - k + <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m - k + <span class="number">1</span>; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">0</span>][n][j] + a[<span class="number">2</span>][i][j + <span class="number">1</span>] + a[<span class="number">3</span>][i + <span class="number">1</span>][j + <span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n - k + <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m - k + <span class="number">1</span>; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">1</span>][i + <span class="number">1</span>][j] + a[<span class="number">3</span>][i + <span class="number">1</span>][j + <span class="number">1</span>] + a[<span class="number">0</span>][i][m]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n - k + <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m - k + <span class="number">1</span>; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">0</span>][i][j] + a[<span class="number">2</span>][i][j + <span class="number">1</span>] + a[<span class="number">3</span>][i + <span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m - k + <span class="number">1</span>; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">0</span>][n][j - k] + a[<span class="number">2</span>][n][j + <span class="number">1</span>] + f[i][j]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &lt;= n - k + <span class="number">1</span>; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = k; j &lt;= m; j++)</span><br><span class="line">			ans = max(ans, a[<span class="number">0</span>][i - k][m] + a[<span class="number">3</span>][i + <span class="number">1</span>][<span class="number">1</span>] + f[i][j]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>动态规划Dp</tag>
        <tag>前缀和</tag>
      </tags>
  </entry>
  <entry>
    <title>[Usage]1</title>
    <url>/2019/11/11/%5BUsage%5D1/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<a id="more"></a>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
      <tags>
        <tag>博客使用</tag>
      </tags>
  </entry>
  <entry>
    <title>[CTSC2008]祭祀</title>
    <url>/2019/11/08/%5BCTSC2008%5D%E7%A5%AD%E7%A5%80/</url>
    <content><![CDATA[<h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>求有向图中最大的集合使得集合中的点两两不可到达</p>
<p>求集合的大小，输出1种可行的构造方案，并输出每个点能不能在点集中</p>
<h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><a id="more"></a>
<p>第一问：由Diliworth定理，最长反链的长度=最小链覆盖的数量</p>
<p>本来是没有后两问的<del>哪个毒瘤写的spj</del></p>
<p>第二问：就是求二分图的最大独立集</p>
<p>第三问：把一个点以及和它相连的边和点都删掉，如果最小链覆盖-1，则可以</p>
<h3 id="关于第二问的构造方案"><a href="#关于第二问的构造方案" class="headerlink" title="关于第二问的构造方案"></a>关于第二问的构造方案</h3><p>首先不能直接选覆盖链的头或尾来构造，反例显然</p>
<p>这个问题等价于二分图的最大独立集的问题</p>
<p>最大独立集一定等于最小点覆盖的补集：1.它一定是最大的 2.该补集中一定没有连边，如果有的话不满足最小点覆盖</p>
<p>考虑如何求二分图的最小点覆盖：从左边的任何一个未匹配点开始，未匹配边-&gt;匹配边…，标记经过的所有点</p>
<p>左侧标记的点和右侧未标记的点就是最小点覆盖，如果i和i+n都在最大独立集里，就加入反链</p>
<h3 id="调试记录"><a href="#调试记录" class="headerlink" title="调试记录"></a>调试记录</h3><p>不会构造方案<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt; </span></span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10005</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">E</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> to, nxt, f;</span><br><span class="line">&#125;e[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn], tot = <span class="number">1</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> f)</span></span>&#123;</span><br><span class="line">	e[++tot].to = v, e[tot].nxt = head[u], e[tot].f = f;</span><br><span class="line">	head[u] = tot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ins</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> f)</span></span>&#123;</span><br><span class="line">	addedge(u, v, f);</span><br><span class="line">	addedge(v, u, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> dep[maxn], now[maxn], T;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">queue</span> &lt;<span class="keyword">int</span>&gt; q; <span class="keyword">while</span> (!q.empty()) q.pop();</span><br><span class="line">	q.push(<span class="number">0</span>); <span class="built_in">memset</span>(dep, <span class="number">0</span>, <span class="keyword">sizeof</span> dep); dep[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">	<span class="built_in">memcpy</span>(now, head, <span class="keyword">sizeof</span> now);</span><br><span class="line">	<span class="keyword">while</span> (!q.empty())&#123;</span><br><span class="line">		<span class="keyword">int</span> cur = q.front(); q.pop();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)</span><br><span class="line">			<span class="keyword">if</span> (!dep[e[i].to] &amp;&amp; e[i].f &gt; <span class="number">0</span>)&#123;</span><br><span class="line">				dep[e[i].to] = dep[cur] + <span class="number">1</span>;</span><br><span class="line">				q.push(e[i].to);</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> dep[T] &gt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> cur, <span class="keyword">int</span> Max)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cur == T) <span class="keyword">return</span> Max;</span><br><span class="line">	<span class="keyword">int</span> flow = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = now[cur]; i; i = e[i].nxt)&#123;</span><br><span class="line">		now[cur] = i;</span><br><span class="line">		<span class="keyword">if</span> (flow == Max) <span class="keyword">return</span> flow;</span><br><span class="line">		<span class="keyword">if</span> (dep[e[i].to] == dep[cur] + <span class="number">1</span> &amp;&amp; e[i].f &gt; <span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">int</span> tmp = dfs(e[i].to, min(Max, e[i].f));</span><br><span class="line">			e[i].f -= tmp;</span><br><span class="line">			e[i ^ <span class="number">1</span>].f += tmp;</span><br><span class="line">			flow += tmp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> flow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> maxflow;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dinic</span><span class="params">()</span></span>&#123;</span><br><span class="line">	maxflow = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (bfs())</span><br><span class="line">		maxflow += dfs(<span class="number">0</span>, INF);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> link[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Floyd</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">				link[i][j] |= (link[i][k] &amp; link[k][j]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) link[i][i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs1</span><span class="params">(<span class="keyword">int</span> cur)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (vis[cur]) <span class="keyword">return</span>;</span><br><span class="line">	vis[cur] = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> (cur &lt;= n)&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)</span><br><span class="line">			<span class="keyword">if</span> (e[i].f == <span class="number">0</span> &amp;&amp; e[i].to != <span class="number">0</span>) dfs1(e[i].to);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (cur &gt; n)&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = head[cur]; i; i = e[i].nxt)</span><br><span class="line">			<span class="keyword">if</span> (e[i].f == <span class="number">0</span> &amp;&amp; e[i].to != T) dfs1(e[i].to);</span><br><span class="line">	&#125;</span><br><span class="line">&#125; <span class="keyword">int</span> ex[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> u, v, i = <span class="number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</span><br><span class="line">		link[u][v] = <span class="number">1</span>;</span><br><span class="line">	&#125; T = n &lt;&lt; <span class="number">1</span> | <span class="number">1</span>; Floyd();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) ins(<span class="number">0</span>, i, <span class="number">1</span>), ex[i] = tot - <span class="number">1</span>, ins(i + n, T, <span class="number">1</span>), ex[i + n] = tot - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">			<span class="keyword">if</span> (link[i][j]) ins(i, j + n, <span class="number">1</span>);</span><br><span class="line">	Dinic();</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, n - maxflow);</span><br><span class="line">	<span class="keyword">int</span> tmp = n - maxflow;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="keyword">if</span> (e[ex[i + n]].f != <span class="number">0</span>) dfs1(i + n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d"</span>, (!vis[i] &amp; vis[i + n]));</span><br><span class="line">	<span class="built_in">puts</span>(<span class="string">""</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> p = <span class="number">1</span>; p &lt;= n; p++)&#123;</span><br><span class="line">		<span class="built_in">memset</span>(head, <span class="number">0</span>, <span class="keyword">sizeof</span> head); tot = <span class="number">1</span>; <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			<span class="keyword">if</span> (i != p &amp;&amp; !link[i][p] &amp;&amp; !link[p][i]) ins(<span class="number">0</span>, i, <span class="number">1</span>), ins(i + n, T, <span class="number">1</span>), ++cnt;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">				<span class="keyword">if</span> (i != p &amp;&amp; j != p &amp;&amp; link[i][j]) ins(i, j + n, <span class="number">1</span>);</span><br><span class="line">		Dinic();</span><br><span class="line">		<span class="keyword">if</span> (cnt - maxflow == tmp - <span class="number">1</span>) <span class="built_in">putchar</span>(<span class="string">'1'</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">putchar</span>(<span class="string">'0'</span>);</span><br><span class="line">	&#125; <span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>网络流</tag>
        <tag>图论</tag>
        <tag>构造</tag>
        <tag>二分图</tag>
      </tags>
  </entry>
</search>
